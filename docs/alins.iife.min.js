var Alins=function($){"use strict";function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function I(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,B(r.key),r)}}function n(e,n,t){n&&I(e.prototype,n),t&&I(e,t),Object.defineProperty(e,"prototype",{writable:!1})}function l(e,n,t){return(n=B(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function v(e){return function(e){if(Array.isArray(e))return P(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||M(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,n){if(e){if("string"==typeof e)return P(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?P(e,n):void 0}}function P(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function p(e,n){var t,r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=M(e))||n&&e&&"number"==typeof e.length)return r&&(e=r),t=0,{s:n=function(){},n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,a=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){a=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(a)throw i}}}}function B(e){e=function(e,n){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0===t)return("string"===n?String:Number)(e);if("object"!=typeof(t=t.call(e,n||"default")))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==typeof e?e:String(e)}var g=Symbol("t"),A=Symbol("u"),q=Symbol("c"),b=Symbol("e"),a=Symbol("t"),D=Symbol("pp");function W(t,e,r){return t[A].shallow?e:e.map(function(e,n){return e&&"object"===m(e)&&!C(e)?T(e,{commonLns:t[A].commonLns,path:t[A].path,key:"".concat(r+n)}):e})}function y(e,n,t,r,i,o){null!=(e=e[a])&&e.forEach(function(e){e({type:n,data:r,index:t,count:i,fromAssign:o})})}function z(e,n){e[A].replaceLns=!1;n=n();return delete e[A].replaceLns,n}$.AlinsType=void 0,(e=$.AlinsType||($.AlinsType={}))[e.Proxy=1]="Proxy",e[e.Ref=2]="Ref",e[e.BindResult=3]="BindResult",$.OprateType=void 0,(e=$.OprateType||($.OprateType={}))[e.Replace=0]="Replace",e[e.Remove=1]="Remove",e[e.Insert=2]="Insert",e[e.Push=3]="Push",e[e.Sort=4]="Sort";var U={splice:function(e,n){var t=this.target,r=this.origin;e>=t.length?(e=t.length,n=0):(void 0===n||e+n>t.length)&&(n=t.length-e);for(var i=arguments.length,o=new Array(2<i?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];var u=o.length,c=Math.min(n,u),l=e+c;n<u?(c=W(t,o.slice(c),l),y(t,$.OprateType.Insert,l,c,c.length)):(c=n-u,y(t,$.OprateType.Remove,l,t.slice(l,l+c),c));for(var s=e;s<l;s++){var f=o[s-e];y(t,$.OprateType.Replace,s,[f,t[s]],1)}var h=t[A].scopeItems,d=null==h?void 0:h.slice(e,e+o.length).map(function(e){return e[h.key].v});return z(t,function(){return r.call.apply(r,[t[A].proxy,e,n].concat(v(d)))})},push:function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];var r=this.target,i=this.origin,n=W(r,n,r.length);return y(r,$.OprateType.Push,r.length,n,n.length),i.call.apply(i,[r[A].proxy].concat(v(n)))},pop:function(){var e=this.target,n=this.origin;return 0<e.length&&y(e,$.OprateType.Remove,e.length-1,[e[e.length-1]],1),n.call(e[A].proxy)},unshift:function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];var r=this.target,i=this.origin,n=W(r,n,0);return y(r,$.OprateType.Insert,0,n,n.length),z(r,function(){return i.call.apply(i,[r[A].proxy].concat(v(n)))})},shift:function(){var e=this.target,n=this.origin;return 0<e.length&&y(e,$.OprateType.Remove,0,e[0],1),n.call(e[A].proxy)},replace:function(e,n,t,r){y(e,$.OprateType.Replace,n,[r,t],1),e[n]=r}},H={};function G(e){H.map=e}function X(e,n,t){return U[n]&&e[a]&&!e[n].hack?(e[n]=U[n].bind({target:e,origin:e[n]}),e[n].hack=!0,e[n]):H[n]?H[n].bind(e):Reflect.get(e,n,t)}function J(e,n,t){return e[a]?(U.replace(e,parseInt(n),e[n],t),!0):b}function K(e,n){if(!e[a])return b;n[a]=e[a];for(var t=e.length,r=n.length,i=Math.min(t,r),o=0;o<i;o++)y(e,$.OprateType.Replace,o,[n[o],e[o]],1),e[A].data[o]=n[o];return t!==r&&(r<t?(y(e,$.OprateType.Remove,i,null,t-r),e.splice(i)):(t=n.slice(i),e.push.apply(e,v(t)))),!0}var i=null;function Q(e){i=e}function V(){return i}function Y(e,n){Q(e);e=n();return Q(null),e}function Z(){var n=[];return i={clean:function(){n.forEach(function(e){e()}),n=null},collect:function(e){n&&n.push(e)}}}var _=null,E=!1;function ee(){return E}function ne(e,n){_=n=n||e,E=!1;n=e();return _=null,n}function C(e){if(1<arguments.length&&void 0!==arguments[1]&&arguments[1]&&(null==e||!e[A]))return!1;e=null==e?void 0:e[g];return e===$.AlinsType.Proxy||e===$.AlinsType.Ref}function u(e){return l({v:e},g,$.AlinsType.Ref)}function c(e){return 1<arguments.length&&void 0!==arguments[1]&&arguments[1]||!e||"object"!==m(e)?l({v:e},g,$.AlinsType.Ref):e}function te(a,n,e){function r(n,t,r,i,e){function o(e){e(t,r,"".concat(u.join("."),".").concat(n),n,i)}e&&null!=(e=a[A].commonLns)&&e.forEach(o),null!=(e=a[A].lns[n])&&e.forEach(o),null!=(e=a[A].extraLns)&&e.forEach(function(e){null!=(e=e[n])&&e.forEach(o)})}var u=n?[].concat(v(e),[n]):v(e),e=Array.isArray(a);a[A].commonLns&&(a[A].lns[n]=new Set,a[A].commonLns.forEach(function(e){a[A].lns[n].add(e)})),Object.assign(a[A],{path:u,triggerChange:r,forceWrite:function(e,n){if(n)return r(n,e,a[n]),e;for(var t in e)r(t,e[t],a[t]);Object.assign(a,e)},subscribe:function(e){var n,t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],r=a[A];for(n in w(r,"commonLns",e),a)w(r.lns,n,e),t&&C(a[n])&&a[n][A].subscribe(e,t)},isArray:e,forceUpdate:function(){for(var e in a)r(e,a[e],a[e])}})}function T(u){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=e.commonLns,t=e.lns,c=void 0===t?{}:t,t=e.shallow,l=void 0!==t&&t,s=e.set,i=e.get,t=e.path,f=void 0===t?[]:t,t=e.key,t=void 0===t?"":t,e=e.isProp,h=void 0!==e&&e;if("Object"!==(e=(e=u).constructor.name)&&"Array"!==e||C(u,!0))return u;if(!l){var r,o=u,a=f;for(r in o){var d=o[r];if(d&&"object"===m(d))try{o[r]=T(d,{path:a,key:r})}catch(e){console.warn(e)}}}u[g]||(u[g]=$.AlinsType.Proxy),u[A]={commonLns:n,lns:c,shallow:l,data:u},te(u,t,f);var e=u[A],v=e.triggerChange,p=e.isArray,y=p?u.length:null,n=new Proxy(u,{get:function(e,n,t){var r="function"==typeof e[n];if(p&&r)return X(e,n,t);if("symbol"===m(n)||r){if(n===D)return!0}else{if(_)return E=E||!0,w(c,n,_),Reflect.get(e,n,t);if("v"===n&&i)return i()}return Reflect.get(e,n,t)},set:function(r,i,o,a){function e(){var e,n,t=Reflect.set(r,i,o,a);return p&&"length"!==i&&null!=(e=c.length)&&e.size&&u.length!==y&&Promise.resolve().then(function(){(n=u.length)!==y&&(v("length",n,y,!1,!1),y=n)}),t}if("symbol"===m(i)||"function"==typeof r[i])return e();var n=null;if(p&&"length"===i?(n=y,y=u[i]):n=r[i],o===n&&(null==(t=r[A])||!t._map))return!0;if(null===s)return console.warn("".concat(h?"props":"Computed"," 不可设置")),!0;if("v"===i&&s)return s(o,n,"".concat(f.join("."),".").concat(i),i),!0;o&&"object"===m(o)&&!l&&(C(o)?(o[D]||(o=o[A].proxy),C(n)&&!1!==u[A].replaceLns&&re(o,n)):(n&&(n[A].removed=!0),o=T(o,{commonLns:r[A].commonLns,lns:null==n?void 0:n[A].lns,shallow:l,path:f,key:i})));var t=b;return p&&/^\d+$/.test(i)&&(t=J(r,i,o)),(t=Array.isArray(o)&&Array.isArray(n)?K(n,o):t)===b&&(t=e()),v(i,o,n,!1,void 0===n),t},deleteProperty:function(e,n){return v(n,void 0,e[n],!0),Reflect.deleteProperty(e,n)}});return u[A].proxy=n}function re(e,n){var t,r,i=e[A],o=n[A];for(r in o.extraLns&&o.extraLns.has(i.lns)?(t=i.lns,i.lns=o.lns,o.lns=t,o.extraLns.delete(t)):i.extraLns?i.extraLns.add(o.lns):i.extraLns=new Set([o.lns]),e)C(e[r])&&C(n[r])&&re(e[r],n[r])}function w(e,n,t){var r=e[n];(r=r||(e[n]=new Set)).has(t)||(i&&"v"===n&&i.collect(function(){r.delete(t),t=null}),r.add(t))}function ie(e){if((r=e)instanceof Array&&r.raw instanceof Array){for(var n=[],t=0;t<(arguments.length<=1?0:arguments.length-1);t++)n.push(e[t],t+1<1||arguments.length<=t+1?void 0:arguments[t+1]);return n}var r;return T(c(e))}function oe(e){var n=1<arguments.length&&void 0!==arguments[1]&&arguments[1];return C(e.v)?e:T(c(e),{shallow:n})}function s(e){var n,t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],r="function"==typeof e,i=r?e:e.get,r=r?null:e.set,o=!1,a=null,e=ne(i,function(){o?null!=n&&n[A].forceWrite(a,"v"):(o=!0,a=null==n?void 0:n[A].forceWrite(i(),"v"),o=!1)}),a=e;return E?n=T(c(e,!0),{set:r,get:i,isProp:t}):{v:e}}function d(o,a){var u,e=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];return"function"==typeof o?(u=b,{v:u=ne(o,function(e,n,t,r,i){e=o._update?e:o();if(function e(n,t,r,i){var o=!(2<arguments.length&&void 0!==r)||r,r=!(3<arguments.length&&void 0!==i)||i;if(n&&t&&"object"===m(n)&&"object"===m(t)&&(r||o)){if(Array.isArray(n)){if(n.length!==t.length)return}else if(Object.keys(n).length!==Object.keys(t).length)return;for(var a in n)if(!e(n[a],t[a],o,!1))return;return 1}return n===t}(u,e))return e;a(e,u,t,r,i),u=e})}):(C(o)&&o[A]&&o[A].subscribe(a,e),o)}function ae(e,n){e[a]?e[a].push(n):e[a]=[n]}function ue(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return le(n,!1)}function ce(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return le(n,!0)}function le(i,o){return i.forEach(function(n,e){if(C(n)){var t,r={};for(t in n)!function(e){r[e]=function(){return n[e]},o&&(r[e]=s(r[e]))}(t);i[e]=r}}),Object.assign.apply(null,i)}var se=0,fe={};var he=0,t=null;function de(e){if(e.__$removed)return e.__$removed(e),e.__$removed=null,void(--he<=0&&(t.disconnect(),t=null))}function ve(e){e.setAttribute("__rm",""),t?he++:(he=1,(t=new window.MutationObserver(function(e){e.forEach(function(e){"childList"===e.type&&e.removedNodes.forEach(function(e){1===e.nodeType&&(de(e),e.querySelectorAll("[".concat("__rm","]")).forEach(function(e){de(e)}))})})})).observe(window.document.body,{childList:!0,subtree:!0}))}function pe(e){return $.Renderer=e}function ye(e){return e?$.Renderer.isFragment(e)?e.firstChild:e:null}function k(e,n,t){var r,i=ye(n);i.__$mounted&&null!=(r=$.Renderer.onMounted)&&r.call($.Renderer,e,i,i.__$mounted),i.__$removed&&null!=(r=$.Renderer.onRemoved)&&r.call($.Renderer,e,i,i.__$mounted),t?e.insertBefore(n,t):e.appendChild(n),null!=(r=i.__$appended)&&r.call(i,i)}function me(e,n){return e.parentElement||e.parentNode||(1<arguments.length&&void 0!==n?n:null)}function ge(e,n,t){t=e.indexOf(t);-1!==t&&(n=$.Renderer.isFragment(n)?Array.from(n.childNodes):[n],0===t?e.unshift.apply(e,v(n)):e.splice.apply(e,[t,0].concat(v(n))))}$.Renderer=void 0,"undefined"!=typeof window&&void 0!==window.document&&pe({querySelector:function(e){return document.querySelector(e)},createElement:function(e){return document.createElement(e)},createTextNode:function(e){return document.createTextNode(e)},createEmptyMountNode:function(){return document.createComment("")},createFragment:function(){return document.createDocumentFragment()},isFragment:function(e){return e instanceof DocumentFragment},isElement:function(e){return this.isFragment(e)||e instanceof Node},onMounted:function(e){var t;void 0===(t=e).__$count?t.__$count=1:t.__$count++,t.__$m_observer||(t.__$m_observer=new window.MutationObserver(function(e){e.forEach(function(e){"childList"===e.type&&e.addedNodes.forEach(function(e){var n;1===e.nodeType&&t&&e.__$mounted&&(n=e.__$mounted(e),e.__$mounted=null,"function"==typeof n&&(e.__$removed=n,ve(e)),t.__$count--,0===t.__$count&&(t.__$m_observer.disconnect(),t.__$m_observer=null,t=null))})})}),t.__$m_observer.observe(t,{childList:!0}))},onRemoved:function(e,n){ve(n)}});var be,r,f,_e=function(){function e(){o(this,e),this.cacheMap=new WeakMap,this.curCache=[],this.tasks=[]}return n(e,[{key:"get",value:function(e){var n,t,r,i=this.cacheMap.get(e);return void 0===i?("string"==typeof(n=e())&&(n=$.Renderer.createTextNode(n)),this.curCache=((r=n)?$.Renderer.isFragment(r)?Array.from(r.childNodes):Array.isArray(r)?r:[r]:null)||[],this.cacheMap.set(e,this.curCache),n):(this.curCache=i||[],t=function(e){if(!e)return null;var n,t=$.Renderer.createFragment(),r=p(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;t.appendChild(i)}}catch(e){r.e(e)}finally{r.f()}return t}(i),this.tasks.length&&(this.tasks.forEach(function(e){e(t)}),this.tasks=[]),t)}},{key:"refreshCache",value:function(e,n){if(!this.curCache)throw new Error("CurCache is null");var t=e.parentElement;if(t){for(var r=t.childNodes,i=r.length,o=!1,a=[],u=0;u<i;u++){var c=r[u];if(o){if(c===n)break;a.push(c)}c===e&&(o=!0)}for(var l=-1,s=-1,f=this.curCache.length,h=0;h<f;h++){var d=this.curCache[h];if(d===e)l=h;else if(d===n){s=h;break}}(t=this.curCache).splice.apply(t,[l+1,s-l-1].concat(a))}}},{key:"addTask",value:function(e){this.tasks.push(e)}}]),e}(),h=(be=!1,r=[],f=null,{next:function(e){null!=(e.parent=f)&&f.children.push(e),r.push(e),f=e},back:function(){r.pop(),f=0===r.length?(be=!0,null):r[r.length-1]},visit:function(e,n){if(!be||f===e)return n();r=[e],f=e;e=n();return r=[],f=null,e},current:function(){return f}}),Ee=function(){function e(){o(this,e),this.start=$.Renderer.createEmptyMountNode(),this.end=$.Renderer.createEmptyMountNode(),this.parent=null,this.children=[],this.branchCalls=[],this.activeIndex=-1,this.refreshList=[],this.initilized=!1,this.cache=new _e,h.next(this)}return n(e,[{key:"wrapAnchor",value:function(e){var n=$.Renderer.createFragment();return n.appendChild(this.start),e&&k(n,e),n.appendChild(this.end),n}},{key:"add",value:function(e){this.branchCalls.push(e)}},{key:"getCache",value:function(e){var n=this;return h.visit(this,function(){return n.cache.get(e)})}},{key:"initAnchor",value:function(e){return $.Renderer.isFragment(e)?(e.appendChild(this.end),e.insertBefore(this.start,e.childNodes[0]),e):this.wrapAnchor(e)}},{key:"replace",value:function(e){var n;if(e!==this.activeIndex)return n=this.branchCalls[e],this.activeIndex=e,e=this.getCache(n),this.initilized?(this.refresh(e),e):(this.initilized=!0,this.initAnchor(e))}},{key:"refresh",value:function(e){var n;this.clear()?($.Renderer.isElement(e)&&null!=(n=this.end.parentElement)&&n.insertBefore(e,this.end),null!=(n=this.parent)&&n.refreshCache(this),this.triggerRefresh()):null!=(n=this.parent)&&n.addRefreshCall(this.refresh.bind(this,e))}},{key:"addRefreshCall",value:function(e){var n;this.start.parentElement?this.refreshList.push(e):null!=(n=this.parent)&&n.addRefreshCall(e)}},{key:"triggerRefresh",value:function(){var e;this.refreshList.length?(e=this.refreshList,this.refreshList=[],e.forEach(function(e){e()})):null!=(e=this.parent)&&e.triggerRefresh()}},{key:"quit",value:function(){h.back()}},{key:"returned",value:function(e){return!1!==(e="number"==typeof e?this.branchCalls[e]:e).returned}},{key:"refreshCache",value:function(e){this.cache.refreshCache(e.start,e.end),null!=(e=this.parent)&&e.refreshCache(this)}},{key:"clear",value:function(){var e=this.start,n=this.end;if(!n.parentElement)return!1;for(;e.nextSibling&&e.nextSibling!==n;)e.nextSibling.remove();return!0}}]),e}();var we=function(){function t(e,n){o(this,t),this.activeIndex=-1,this.index=0,this.returnEle=b,this.matched=!1,this.refs=[],this.branch=new Ee,this.acceptIf(e,n,!0)}return n(t,[{key:"switchNode",value:function(e){return this.activeIndex===e||(this.activeIndex=e,this.branch.replace(e),this.branch.returned(e))}},{key:"onDataChange",value:function(e){for(var n,t=e.length,r=0;r<t;r++)if(e[r])return(n=this.switchNode(r))||r===t-1?n:this.switchNode(t-1)}},{key:"acceptIf",value:function(e,n){var t=2<arguments.length&&void 0!==arguments[2]&&arguments[2],r=this.index,i=this.index++;this.refs[i]=e,this.branch.add(n),this.returnEle!==b||this.matched&&!t||("function"==typeof e?e():e.v)&&(this.matched=!0,t||(this.activeIndex=r),e=this.branch.replace(i),this.returnEle===b&&this.branch.returned(n)&&(this.returnEle=e))}},{key:"elif",value:function(e,n){return this.acceptIf(e,n),this}},{key:"else",value:function(e){return this.acceptIf(function(){return!0},e),this}},{key:"end",value:function(){var e=this;return this.acceptIf(function(){return!0},0<arguments.length&&void 0!==arguments[0]?arguments[0]:function(){},!1),d(function(){return e.refs.map(function(e){return"function"==typeof e?e():e.v})},this.onDataChange.bind(this),!1),this.branch.quit(),this.returnEle!==b?this.returnEle:$.Renderer.createFragment()}}]),t}();function ke(e,n){return new we(e,n)}var xe=function(){function t(e,n){o(this,t),this.branch=new Ee,this.target=e,this.caseList=n}return n(t,[{key:"run",value:function(e){for(var n=!1,t=null,r=this.caseList.length,i=0;i<r;i++){var o=this.caseList[i][0];if(Array.isArray(o)&&o.includes(e)||o===e||null===o){n=!0,t=this.branch.replace(i);break}}return t=n?t:this.branch.replace(r)}},{key:"end",value:function(){var e,n=this,t=(this.endCall=0<arguments.length&&void 0!==arguments[0]?arguments[0]:function(){},d(this.target,function(e){n.run(e)})),r=p(n.caseList);try{for(r.s();!(e=r.n()).done;){var i=e.value[1];i&&n.branch.add(i)}}catch(e){r.e(e)}finally{r.f()}n.branch.add(n.endCall),n.branch.quit();t=this.run(t.v);return $.Renderer.isElement(t)?t:$.Renderer.createFragment()}}]),t}();function Re(e,n){return new xe(e,n)}function $e(c){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1],v=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"item",p=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"",y=this;if(!e)return y.map(c);var m=$.Renderer.createFragment(),e=C(y),n=y.length;if(e){for(var i,g,b=$.Renderer.createEmptyMountNode(),_=[],E=[],w=(i=h.current(),{insertBefore:function(n,t,e){var r,e=me(t,e);i?(r=i.cache,t.parentElement===e?(ge(r.curCache,n,t),e.insertBefore(n,t)):r.addTask(function(e){ge(r.curCache,n,t);try{e.insertBefore(n,t)}catch(e){console.warn(e)}})):e.insertBefore(n,t)},removeElement:function(n){var t,e;i?(t=i.cache,n.parentElement?(n.remove(),e=t.curCache.indexOf(n),t.curCache.splice(e,1)):t.addTask(function(){n.remove();var e=t.curCache.indexOf(n);t.curCache.splice(e,1)})):n.remove()},addTask:function(e){null!=i&&i.cache.addTask(e)}}),k=[],x=(y[A].scopeItems=k,y[A]._map=!0,k.key=v,function(e,n){e=T({v:e},{shallow:!0});e=l({},v,e);return p&&(e[p]=T({v:n},{shallow:!0})),e}),R=function(e,n){var t,r,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:k,o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:_,a=4<arguments.length&&void 0!==arguments[4]?arguments[4]:E,u=x(e,n),e=Z(),a=(a.push(e),Y(e,function(){return c(u[v],u[p]||n)})),e=a;return a?$.Renderer.isFragment(a)?0===(r=(t=a.childNodes).length)?(e=$.Renderer.createEmptyMountNode(),a.appendChild(e),0===n&&(g=e)):(e=t[r-1],0===n&&(g=t[0])):0===n&&(g=a):(e=a=$.Renderer.createEmptyMountNode(),0===n&&(g=a)),i.push(u),o.push(e),a},t=0;t<n;t++){var r=y[t],r=R(r,t);m.appendChild(r)}m.appendChild(b),ae(y,function(e){var o=e.index,a=e.count,n=e.data;switch(e.type){case $.OprateType.Push:for(var t=$.Renderer.createFragment(),r=y.length,i=0;i<n.length;i++){var u=R(n[i],r+i);t.appendChild(u)}w.insertBefore(t,b,m);break;case $.OprateType.Replace:k[o]?(n[0]!==k[o][v].v&&(k[o][v].v=n[0]),p&&(k[o][p].v=o)):k[o]=x(n[0],o);break;case $.OprateType.Remove:if(0===a)break;var c=function(){for(var e,n=o-1,t=(null==(e=_[n+a])?void 0:e.nextSibling)||b,r=n<0?g||b:_[n];r.nextSibling&&r!==t&&r.nextSibling!==t;){var i=r.nextSibling;w.removeElement(i)}n<0&&(r!==b?(g=r.nextSibling,w.removeElement(r)):g=b),_.splice(o,a),k.splice(o,a),E.splice(o,a).forEach(function(e){e.clean()})};b.parentElement?c():w.addTask(c);break;case $.OprateType.Insert:var l=[],s=[],f=[],h=$.Renderer.createFragment(),d=g,c=(n.forEach(function(e,n){e=R(e,o+n,s,l,f);h.appendChild(e)}),k.splice.apply(k,[o,0].concat(s)),_.splice.apply(_,[o,0].concat(l)),E.splice.apply(E,[o,0].concat(f)),function(){var e=0===o?d||b:_[o-1].nextSibling;me(e,m).insertBefore(h,e)});b.parentElement?c():w.addTask(c)}})}else for(var o=0;o<n;o++){var a=c(u(y[o]),u(o));a&&m.appendChild(a)}return m}function x(e,i){var n="object"===m(e)&&!C(e)&&void 0!==e.enable,t=n?e.value:e,o=!0,a="",a=Ae(t,function(e,n,t,r){a=e,o&&i(e,n,t,r)});return n&&(o=d(e.enable,function(e){i((o=e)?a:null,null,"","")}).v),i(o?a:null,void 0,"",""),a}function Ae(e,n){return"function"==typeof e||C(e)&&void 0!==e.v?d(e,n).v:e}G($e);var Ce={zIndex:1,opacity:1,flex:1,flexGrow:1,flexShrink:1},R="_$single_style";function L(e,n,t,r,i){i=4<arguments.length&&void 0!==i&&i;"number"!=typeof t||Ce[n]||(t="".concat(t,"px")),e.style[n]=t=r?"":t,i&&(e[R]||(e[R]={}),e[R][n]=t)}function Te(s,e){if(null!=e){if("function"==typeof e||C(e)){var f="function"==typeof e;x(e,function(e,n,t,r,i){if("string"==typeof e)if(f){s.setAttribute("style",e);var o=s[R];if(o)for(var a in o)s.style[a]=o[a]}else L(s,r,e,i);else{for(var u in e){var c=e[u];"function"==typeof c&&(c=c()),L(s,u,c)}for(var l in n)void 0===e[l]&&L(s,l,"")}})}else{if("object"!==m(e))return;for(var n in e)!function(n){x(e[n],function(e){L(s,n,e,null===e)})}(n)}return 1}}var Le={INPUT:1,SELECT:1,TEXTAREA:1};function Se(d,e){if(null!=e)if("function"==typeof e||C(e))x(e,function(e,n,t,r,i){if("string"==typeof e){if(r&&"v"!==r)return void(i?d.removeAttribute(r):d.setAttribute(r,e));var o,i=e.matchAll(/(.*?)=(.*?)(&|$)/g),a=(e={},p(i));try{for(a.s();!(o=a.n()).done;){var u=o.value;e[u[1]]=u[2]}}catch(e){a.e(e)}finally{a.f()}var c,r=n.matchAll(/(.*?)=(.*?)(&|$)/g),l=(n={},p(r));try{for(l.s();!(c=l.n()).done;){var s=c.value;n[s[1]]=s[2]}}catch(e){l.e(e)}finally{l.f()}}for(var f in e)d.setAttribute(f,e[f]);for(var h in n)void 0===e[h]&&d.removeAttribute(h)});else{if("object"!==m(e))return;for(var n in e)!function(n){x(e[n],function(e){null===e?d.removeAttribute(e):d.setAttribute(n,e)})}(n)}}var Ne="_$single_class";function S(e,n,t,r){t=2<arguments.length&&void 0!==t&&t,r=3<arguments.length&&void 0!==r&&r;e.classList[t?"remove":"add"](n),r&&(e[Ne]||(e[Ne]=new Set),e[Ne][t?"delete":"add"](n))}function je(e,n){e.className=Array.from(new Set(n.split(" "))).join(" ");n=e[Ne];if(n){var t,r=p(n);try{for(r.s();!(t=r.n()).done;){var i=t.value;e.classList.add(i)}}catch(e){r.e(e)}finally{r.f()}}}function Oe(c,e){if(null!=e)if("function"==typeof e||C(e))x(e,function(e,n,t,r,i){if("string"==typeof e)je(c,e);else if("boolean"==typeof e)S(c,r,i||0==e);else{for(var o in e){var a=e[o];"function"==typeof a&&(a=a()),S(c,o,0==a)}for(var u in n)void 0===e[u]&&S(c,u,!0)}});else if("object"===m(e))for(var n in e)!function(n){x(e[n],function(e){S(c,n,!e)})}(n);else"string"==typeof e&&je(c,e)}function Fe(e,t,n){var r=null,i=null,o=null,a=null,u=null;if(t)for(var c in t)!function(e){var n=t[e];switch(e){case"$mount":r=n,delete t[e];break;case"$created":i=n,delete t[e];break;case"$appended":o=n,delete t[e];break;case"$mounted":a=n,delete t[e];break;case"$removed":u=n,delete t[e];break;default:C(n)?t[e]=s(function(){return n.v},!0):t[e]=l({v:n},g,$.AlinsType.Ref)}}(c);e=function(e,t){if(e){var r,i;if(e instanceof Promise)return r=$.Renderer.createFragment(),i=$.Renderer.createEmptyMountNode(),r.appendChild(i),e.then(function(e){if($.Renderer.isElement(e)){var n=me(i,r);try{null!=t&&t(e),k(n,e,i)}catch(e){console.log("node 已被隐藏")}finally{i.remove()}}}),r;null!=t&&t(e)}return e}(e(t||{},n),function(e){e=ye(e);null!=i&&i(e),o&&(e.__$appended=o),a&&(e.__$mounted=a),u&&(e.__$removed=u)});return r&&k(r="string"==typeof r?$.Renderer.querySelector(r):r,e),e}function Ie(f){var e,n,t;if(f.isText)n=$.Renderer.createTextNode(""),""!==f.text&&(r=f.text,(t=function(e){n.textContent=e})(Ae(r,t),void 0,"",""));else{var r=!!f.tag,h=(n=r?$.Renderer.createElement(f.tag):$.Renderer.createFragment(),f.children&&0<f.children.length&&(null!=(t=f.attributes)&&t.$html?console.warn("$html 属性的元素的子元素将失效"):function e(n,t){var r,i=p(t);try{for(i.s();!(r=i.n()).done;){var o,a=r.value;null!=a&&(Array.isArray(a)?e(n,a):$.Renderer.isElement(a)?k(n,a):(o=Ie(Me(a)?a:{text:a,isText:!0}),n.appendChild(o)))}}catch(e){i.e(e)}finally{i.f()}}(n,f.children)),r?n:n.children[0]),r=r?n:n.firstChild,i=f.attributes;if(i){var o=i.$mount;if(r&&(null!=(e=i.$created)&&e.call(i,r),i.$appended&&(r.__$appended=i.$appended),i.$removed&&(r.__$removed=i.$removed),i.$mounted&&(r.__$mounted=i.$mounted)),h){var a,u=function(n){var e,t,r=f.attributes[n];if(c=h,t=r,(e=n).startsWith("on")&&((null===c[e]||"function"==typeof c[e])&&("function"==typeof t||"function"==typeof(null==t?void 0:t.listener)||"string"==typeof(null==t?void 0:t.__deco)))){var i=h,o=n,a=r;if(o=o.substring(2),"function"==typeof a)i.addEventListener(o,a);else if(C(a))i.addEventListener(o,a.v);else{if(a.__deco){var u,c=a.__deco.split("-"),l=(a={listener:a.v},p(c));try{for(l.s();!(u=l.n()).done;){var s=u.value;a[s]=!0}}catch(e){l.e(e)}finally{l.f()}}i.addEventListener(o,function e(n){a.self&&n.target!==i||(a.stop&&n.stopPropagation(),a.prevent&&n.preventDefault(),a.once&&i.removeEventListener(o,e,a.capture),a.listener(n))},a.capture)}return"continue"}switch(n){case"$created":case"$appended":case"$removed":case"$mounted":case"$mount":break;case"$html":x(r,function(e){h.innerHTML=e||""});break;case"$ref":r(h);break;case"$attributes":Se(h,r);break;case"$show":x(r,function(e){h.style.display=e?"":"none"});break;case"class":Oe(h,r);break;default:if("style"===n&&Te(h,r)||function(n,e,t){if(("value"===t||"checked"===t)&&(C(e)||e.__deco)){var r,i,o,a=n.tagName;if(Le[a])return r=e.__deco||m(e.v),i=(i={boolean:function(e){return"true"===e},number:function(e){return parseFloat(e)},string:function(e){return e}}[r])||function(e){return e},o=e.__deco?e.v:e,n.addEventListener("SELECT"===a?"change":"input",function(){var e=n[t];r!==m(e)&&(e=i(e)),o.v=Number.isNaN(e)?"":e}),d(o,function(e){n[t]=e},!1),n[t]=o.v,1}}(h,r,n)||function(n,e,t){var r;if(e.startsWith("class$"))return r=e.substring("class$".length),x(t,function(e){S(n,r,!e,!0)}),1}(h,n,r)||function(n,e,t){var r;if(e.startsWith("style$"))return r=e.substring("style$".length),x(t,function(e){L(n,r,e,null===e,!0)}),1}(h,n,r))break;x(r,function(e){null===(e="object"===m(e)?e.enable?e.value:null:e)?h.removeAttribute(n):h.setAttribute(n,e)})}};for(a in f.attributes)u(a)}if(o){if(!(o="string"==typeof o?$.Renderer.querySelector(o):o))throw new Error("$mount is not a Element");k(o,n)}}}return n}function Me(e){return"object"===m(e)&&!0===e.jsx}var Pe=function(e){for(var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,t=arguments.length,r=new Array(2<t?t-2:0),i=2;i<t;i++)r[i-2]=arguments[i];return"function"==typeof e?Fe(e,n,r):Ie({tag:e,attributes:n,children:r,jsx:!0})};var e=s,Be=d;var qe=ue,De=ce;function We(e,n,t,r,i){return $e.call(e,n,t,r,i)}var N,j,ze=u,Ue=ke,He=Re;(j=N=N||{})[j.Element=0]="Element",j[j.Text=1]="Text",j[j.Empty=2]="Empty",j[j.Frag=3]="Frag";var O={render:function(e){var n=new Array(e.deep).fill("  ").join(""),e="".concat(e.innerText);console.log("".concat(n,"text: ").concat(e.trim()))}};function Ge(e,n){var t=null==(t=e._onMounted)?void 0:t.call(e,e);t&&(e._onRemoved=t),e.parentElement=n}var F=function(){function i(e){var n=this,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"";o(this,i),this.type=N.Element,this.style={},this.tagName="",this.innerText="",this._attributes={},this._listeners={},this.deep=0,this._classList=new Set,this.classList={add:function(e){n._classList.add(e)},remove:function(e){n._classList.delete(e)}},this.parentElement=null,this.children=[],this.type=e,this.tagName=r,this.innerText=t}return n(i,[{key:"textContent",get:function(){return this.innerText},set:function(e){this.innerText=e}},{key:"addEventListener",value:function(e,n){var t;this._listeners[e]||(this._listeners[e]=new Set),this._listeners[e].add(n),null!=(t=O.addEventListener)&&t.call(O,this,e,n)}},{key:"removeEventListener",value:function(e,n){var t;this._listeners[e]&&this._listeners[e].delete(n),null!=(t=O.removeEventListener)&&t.call(O,this,e,n)}},{key:"setAttribute",value:function(e,n){this._attributes[e]=n}},{key:"removeAttribute",value:function(e){delete this._attributes[e]}},{key:"getAttribute",value:function(){return""}},{key:"className",get:function(){return Array.from(this._classList).join(" ")},set:function(e){this._classList=new Set(e.split(" "))}},{key:"parentNode",get:function(){return this.parentElement}},{key:"remove",value:function(){var e=null==(e=this.parentElement)?void 0:e.children;e&&(e.splice(e.indexOf(this),1),null!=(e=this._onRemoved)&&e.call(this,this))}},{key:"innerHTML",get:function(){return this.innerText}},{key:"outerHTML",get:function(){return this.innerText}},{key:"childNodes",get:function(){return this.children}},{key:"appendChild",value:function(e){if(e.type===N.Frag){var n,t=p(e.childNodes);try{for(t.s();!(n=t.n()).done;){var r=n.value;this.appendChild(r)}}catch(e){t.e(e)}finally{t.f()}}else this.children.push(e),Ge(e,this)}},{key:"nextSibling",get:function(){var e;return(null==(e=this.parentElement)?void 0:e.children[this.index+1])||null}},{key:"insertBefore",value:function(e,n){if(n.parentElement!==this)throw new Error("insertBefore error");if(n.type===N.Frag){var t,r=p(n.childNodes);try{for(r.s();!(t=r.n()).done;){var i=t.value;this.insertBefore(i,n)}}catch(e){r.e(e)}finally{r.f()}}else this.children.splice(n.index,0,e),Ge(e,this);return e}},{key:"index",get:function(){var e=this.parentElement;return e?e.children.indexOf(this):-1}},{key:"render",value:function(){var e,n=this,t=null==(t=O.render)?void 0:t.call(O,this);return this.children.forEach(function(e){e.deep=n.deep+1,e.render()}),"function"==typeof t&&(t=t(this)),null!=(e=O.onRenderEnd)&&e.call(O,this),t}},{key:"_findName",value:function(e){if(this.tagName===e)return this;var n,t=p(this.children);try{for(t.s();!(n=t.n()).done;){var r=n.value._findName(e);if(r)return r}}catch(e){t.e(e)}finally{t.f()}return null}}]),i}();F.Root=null;return $.CustomElement=F,$._$c=e,$._$cc=function(e,n){return s({get:e,set:n})},$._$ce=Pe,$._$e=qe,$._$es=De,$._$f=function(e,n){return Pe.apply(void 0,["",e].concat(v(n)))},$._$if=Ue,$._$mf=ze,$._$mm=We,$._$mnr=function(e){return e.returned=!1,e},$._$mu=function(e){return e._update=!0,e},$._$r=function(e,n){return oe({v:e},n="boolean"!=typeof n?"object"===m(null==e?void 0:e.v)&&C(e.v):n)},$._$sw=He,$._$w=Be,$._if=ke,$._switch=Re,$.addLns=w,$.appendChild=k,$.arrayFuncProxy=X,$.assignCompData=ce,$.assignData=ue,$.child=q,$.computed=s,$.createCleaner=Z,$.createProxy=T,$.createStore=function(e){var t=e.id,r=e.state,i=e.actions,o=e.getters,t=t||"store_".concat(se++);return function(){var a=fe[t];if(!a){if(a=ie(r()),i)for(var e in i)a[e]=i[e].bind(a);if(o)for(var n in o)!function(e){Object.defineProperty(a,e,{get:function(){return o[e].call(a,a)},set:function(){throw new Error("Cannot set getters")}})}(n);(fe[t]=a).$watch=function(e,n){var o;return"string"==typeof e&&(o=e,e=function(){for(var e=a,n=o,t="",r=0;r<n.length;r++){var i=n[r];"."===i||"["===i||"]"===i?t&&(e=e[t],t=""):t+=i}return e=t?e[t]:e}),d(e,n)}}return a}},$.createUtils=te,$.defineRenderer=pe,$.empty=b,$.getCurCleaner=V,$.getFirstElement=ye,$.getStore=function(e){return fe[e]||null},$.isDepReactive=ee,$.isProxy=C,$.isRef=function(e){return(null==e?void 0:e[g])===$.AlinsType.Ref},$.map=$e,$.mockRef=u,$.observe=ne,$.pureproxy=D,$.react=ie,$.reactive=oe,$.reactiveBindingEnable=x,$.registArrayMap=G,$.replaceArrayItem=J,$.replaceLNS=re,$.replaceWholeArray=K,$.setCurCleaner=Q,$.trig=a,$.type=g,$.useCurCleaner=Y,$.useRenderer=function(){Object.assign(O,0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}),pe({querySelector:function(e){var n;return null==(n=F.Root)?void 0:n._findName(e)},createElement:function(){return new F(N.Element,"",0<arguments.length&&void 0!==arguments[0]?arguments[0]:"")},createTextNode:function(e){return new F(N.Text,e)},createEmptyMountNode:function(){return new F(N.Empty)},createFragment:function(){return new F(N.Frag)},isFragment:function(e){return e.type===N.Frag},isElement:function(e){return e.type===N.Element||e.type===N.Text},onMounted:function(e,n,t){n._onMounted=t},onRemoved:function(e,n,t){n._onRemoved=t}});var e=new F(N.Element,"","root");return F.Root=e},$.util=A,$.version="",$.watch=d,$.watchArray=ae,$.watchRef=function(e,n){return d(e,n,!1)},$.wrapReactive=c,Object.defineProperty($,"__esModule",{value:!0}),$}({});
