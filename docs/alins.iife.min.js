var Alins=function($){"use strict";function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function F(e){return(F="function"==typeof Symbol&&"symbol"==d(Symbol.iterator)?function(e){return d(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":d(e)})(e)}var M=/\(.*?\)/;function I(e){return e instanceof Array&&e.raw instanceof Array}e=navigator.userAgent;var e=/Safari/.test(e)&&!/Chrome/.test(e);$.AlinsType=void 0;var g=Symbol("t"),A=Symbol("u"),B=Symbol("c"),b=Symbol("e"),a=Symbol("t"),q=Symbol("pp");function _(e){return(_="function"==typeof Symbol&&"symbol"==d(Symbol.iterator)?function(e){return d(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":d(e)})(e)}function p(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||((r=r||Array.prototype.slice.call(t,0,i))[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}function D(n,e,r){return n[A].shallow?e:e.map(function(e,t){return e&&"object"===_(e)&&!T(e)?S(e,{commonLns:n[A].commonLns,path:n[A].path,key:"".concat(r+t)}):e})}function v(e,t,n,r,i,o){null!=(e=e[a])&&e.forEach(function(e){e({type:t,data:r,index:n,count:i,fromAssign:o})})}function W(e,t){return e[A].replaceLns=!1,t=t(),delete e[A].replaceLns,t}(h=$.AlinsType=$.AlinsType||{})[h.Proxy=1]="Proxy",h[h.Ref=2]="Ref",h[h.BindResult=3]="BindResult",$.OprateType=void 0,(h=$.OprateType=$.OprateType||{})[h.Replace=0]="Replace",h[h.Remove=1]="Remove",h[h.Insert=2]="Insert",h[h.Push=3]="Push",h[h.Sort=4]="Sort";var z={splice:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=this.target,o=this.origin,a=(e>=i.length?(e=i.length,t=0):(void 0===t||e+t>i.length)&&(t=i.length-e),n.length),c=Math.min(t,a),u=e+c;t<a?(c=D(i,n.slice(c),u),v(i,$.OprateType.Insert,u,c,c.length)):(c=t-a,v(i,$.OprateType.Remove,u,i.slice(u,u+c),c));for(var l=e;l<u;l++){var s=n[l-e];v(i,$.OprateType.Replace,l,[s,i[l]],1)}var f=i[A].scopeItems,h=null==f?void 0:f.slice(e,e+n.length).map(function(e){return e[f.key].v});return W(i,function(){return o.call.apply(o,p([i[A].proxy,e,t],h,!1))})},push:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.target,r=this.origin,e=D(n,e,n.length);return v(n,$.OprateType.Push,n.length,e,e.length),r.call.apply(r,p([n[A].proxy],e,!1))},pop:function(){var e=this.target,t=this.origin;return 0<e.length&&v(e,$.OprateType.Remove,e.length-1,[e[e.length-1]],1),t.call(e[A].proxy)},unshift:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.target,r=this.origin,e=D(n,e,0);return v(n,$.OprateType.Insert,0,e,e.length),W(n,function(){return r.call.apply(r,p([n[A].proxy],e,!1))})},shift:function(){var e=this.target,t=this.origin;return 0<e.length&&v(e,$.OprateType.Remove,0,e[0],1),t.call(e[A].proxy)},replace:function(e,t,n,r){v(e,$.OprateType.Replace,t,[r,n],1),e[t]=r}},H={};function U(e){H.map=e}function G(e,t,n){return z[t]&&e[a]&&!e[t].hack?(e[t]=z[t].bind({target:e,origin:e[t]}),e[t].hack=!0,e[t]):H[t]?H[t].bind(e):Reflect.get(e,t,n)}function V(e,t,n){return e[a]?(z.replace(e,parseInt(t),e[t],n),!0):b}function X(e,t){if(!e[a])return b;t[a]=e[a];for(var n=e.length,r=t.length,i=Math.min(n,r),o=0;o<i;o++)v(e,$.OprateType.Replace,o,[t[o],e[o]],1),e[A].data[o]=t[o];return n!==r&&(r<n?(v(e,$.OprateType.Remove,i,null,n-r),e.splice(i)):(n=t.slice(i),e.push.apply(e,n))),!0}var i=null;function J(e){i=e}function K(){return i}function Q(e,t){return J(e),e=t(),J(null),e}function Y(){var t=[];return i={clean:function(){t.forEach(function(e){e()}),t=null},collect:function(e){t&&t.push(e)}}}var E=null,x=!1;function Z(){return x}function ee(e,t){return E=t=t||e,x=!1,t=e(),E=null,t}function T(e,t){return!((t=void 0!==t&&t)&&(null==e||!e[A]))&&((t=null==e?void 0:e[g])===$.AlinsType.Proxy||t===$.AlinsType.Ref)}function c(e){return(e={v:e})[g]=$.AlinsType.Ref,e}function u(e,t){return(t=void 0!==t&&t)||!e||"object"!==_(e)?((t={v:e})[g]=$.AlinsType.Ref,t):e}function te(a,t,e){function r(t,n,r,i,e){function o(e){e(n,r,"".concat(c.join("."),".").concat(t),t,i)}e&&null!=(e=a[A].commonLns)&&e.forEach(o),null!=(e=a[A].lns[t])&&e.forEach(o),null!=(e=a[A].extraLns)&&e.forEach(function(e){null!=(e=e[t])&&e.forEach(o)})}var c=t?p(p([],e,!0),[t],!1):p([],e,!0),e=Array.isArray(a);a[A].commonLns&&(a[A].lns[t]=new Set,a[A].commonLns.forEach(function(e){a[A].lns[t].add(e)})),Object.assign(a[A],{path:c,triggerChange:r,forceWrite:function(e,t){if(t)return r(t,e,a[t]),e;for(var n in e)r(n,e[n],a[n]);Object.assign(a,e)},subscribe:function(e,t){void 0===t&&(t=!0);var n,r=a[A];for(n in R(r,"commonLns",e),a)R(r.lns,n,e),t&&T(a[n])&&a[n][A].subscribe(e,t)},isArray:e,forceUpdate:function(){for(var e in a)r(e,a[e],a[e])}})}function S(c,e){var t,n=(e=void 0===e?{}:e).commonLns,u=void 0===(r=e.lns)?{}:r,l=void 0!==(r=e.shallow)&&r,s=e.set,i=e.get,f=void 0===(r=e.path)?[]:r,r=void 0===(r=e.key)?"":r,h=void 0!==(e=e.isProp)&&e;if("Object"!==(t=(t=c).constructor.name)&&"Array"!==t||T(c,!0))return c;if(!l){var o=c,a=f,d;for(d in o){var p=o[d];if(p&&"object"===_(p))try{o[d]=S(p,{path:a,key:d})}catch(o){console.warn(o)}}}c[g]||(c[g]=$.AlinsType.Proxy),c[A]={commonLns:n,lns:u,shallow:l,data:c},te(c,r,f);var v=(e=c[A]).triggerChange,y=e.isArray,m=y?c.length:null,n=new Proxy(c,{get:function(e,t,n){var r="function"==typeof e[t];if(y&&r)return G(e,t,n);if("symbol"===_(t)||r){if(t===q)return!0}else{if(E)return x=x||!0,R(u,t,E),Reflect.get(e,t,n);if("v"===t&&i)return i()}return Reflect.get(e,t,n)},set:function(r,i,o,a){function e(){var e,t,n=Reflect.set(r,i,o,a);return y&&"length"!==i&&null!=(e=u.length)&&e.size&&c.length!==m&&Promise.resolve().then(function(){(t=c.length)!==m&&(v("length",t,m,!1,!1),m=t)}),n}if("symbol"===_(i)||"function"==typeof r[i])return e();var t=null;if(y&&"length"===i?(t=m,m=c[i]):t=r[i],o===t&&(null==(n=r[A])||!n._map))return!0;if(null===s)return console.warn("".concat(h?"props":"Computed"," 不可设置")),!0;if("v"===i&&s)return s(o,t,"".concat(f.join("."),".").concat(i),i),!0;o&&"object"===_(o)&&!l&&(T(o)?(o[q]||(o=o[A].proxy),T(t)&&!1!==c[A].replaceLns&&ne(o,t)):(t&&(t[A].removed=!0),o=S(o,{commonLns:r[A].commonLns,lns:null==t?void 0:t[A].lns,shallow:l,path:f,key:i})));var n=b;return y&&/^\d+$/.test(i)&&(n=V(r,i,o)),(n=Array.isArray(o)&&Array.isArray(t)?X(t,o):n)===b&&(n=e()),v(i,o,t,!1,void 0===t),n},deleteProperty:function(e,t){return v(t,void 0,e[t],!0),Reflect.deleteProperty(e,t)}});return c[A].proxy=n}function ne(e,t){var n,r,i=e[A],o=t[A];for(r in o.extraLns&&o.extraLns.has(i.lns)?(n=i.lns,i.lns=o.lns,o.lns=n,o.extraLns.delete(n)):i.extraLns?i.extraLns.add(o.lns):i.extraLns=new Set([o.lns]),e)T(e[r])&&T(t[r])&&ne(e[r],t[r])}function R(e,t,n){var r=e[t];(r=r||(e[t]=new Set)).has(n)||((e=i)&&"v"===t&&e.collect(function(){r.delete(n),n=null}),r.add(n))}function re(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(I(e)){for(var r=[],i=0;i<t.length;i++)r.push(e[i],t[i]);return r}return S(u(e))}function ie(e,t){return void 0===t&&(t=!1),T(e.v)?e:S(u(e),{shallow:t})}function l(e,t){void 0===t&&(t=!1);var n,r=(i="function"==typeof e)?e:e.get,i=i?null:e.set,o=!1,a=null,a=e=ee(r,function(){o?null!=n&&n[A].forceWrite(a,"v"):(o=!0,a=null==n?void 0:n[A].forceWrite(r(),"v"),o=!1)});return x?n=S(u(e,!0),{set:i,get:function(){return a},isProp:t}):{v:e}}function y(o,a,e){var c;return void 0===e&&(e=!0),"function"==typeof o?(c=b,{v:c=ee(o,function(e,t,n,r,i){if(e=o._update?e:o(),function e(t,n,r,i){if(void 0===r&&(r=!0),void 0===i&&(i=!0),t&&n&&"object"===_(t)&&"object"===_(n)&&(i||r)){if(Array.isArray(t)){if(t.length!==n.length)return}else if(Object.keys(t).length!==Object.keys(n).length)return;for(var o in t)if(!e(t[o],n[o],r,!1))return;return 1}return t===n}(c,e))return e;a(e,c,n,r,i),c=e})}):(T(o)&&o[A]&&o[A].subscribe(a,e),o)}function oe(e,t){e[a]?e[a].push(t):e[a]=[t]}function ae(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return ue(e,!1)}function ce(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return ue(e,!0)}function ue(i,o){return i.forEach(function(t,e){if(T(t)){var n,r={};for(n in t)!function(e){r[e]=function(){return t[e]},o&&(r[e]=l(r[e]))}(n);i[e]=r}}),Object.assign.apply(null,i)}var le=0,se={};var fe=0,t=null;function he(e){if(e.__$removed)return e.__$removed(e),e.__$removed=null,void(--fe<=0&&(t.disconnect(),t=null))}function de(e){e.setAttribute("__rm",""),t?fe++:(fe=1,(t=new window.MutationObserver(function(e){e.forEach(function(e){"childList"===e.type&&e.removedNodes.forEach(function(e){1===e.nodeType&&(he(e),e.querySelectorAll("[".concat("__rm","]")).forEach(function(e){he(e)}))})})})).observe(window.document.body,{childList:!0,subtree:!0}))}function pe(e){return $.Renderer=e}function ve(e){return e?$.Renderer.isFragment(e)?e.firstChild:e:null}function s(e,t,n){var r,i=ve(t);i.__$mounted&&null!=(r=$.Renderer.onMounted)&&r.call($.Renderer,e,i,i.__$mounted),i.__$removed&&null!=(r=$.Renderer.onRemoved)&&r.call($.Renderer,e,i,i.__$mounted),n?e.insertBefore(t,n):e.appendChild(t),null!=(r=i.__$appended)&&r.call(i,i)}function L(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||((r=r||Array.prototype.slice.call(t,0,i))[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}function ye(e,t){return void 0===t&&(t=null),e.parentElement||e.parentNode||t}function me(e,t,n){n=e.indexOf(n);-1!==n&&(t=$.Renderer.isFragment(t)?Array.from(t.childNodes):[t],0===n?e.unshift.apply(e,t):e.splice.apply(e,L([n,0],t,!1)))}$.Renderer=void 0,"undefined"!=typeof window&&void 0!==window.document&&pe({querySelector:function(e){return document.querySelector(e)},createElement:function(e){return document.createElement(e)},createTextNode:function(e){return document.createTextNode(e)},createEmptyMountNode:function(){return document.createComment("")},createFragment:function(){return document.createDocumentFragment()},isFragment:function(e){return e instanceof DocumentFragment},isElement:function(e){return this.isFragment(e)||e instanceof Node},onMounted:function(e){var n;void 0===(n=e).__$count?n.__$count=1:n.__$count++,n.__$m_observer||(n.__$m_observer=new window.MutationObserver(function(e){e.forEach(function(e){"childList"===e.type&&e.addedNodes.forEach(function(e){var t;1===e.nodeType&&n&&e.__$mounted&&(t=e.__$mounted(e),e.__$mounted=null,"function"==typeof t&&(e.__$removed=t,de(e)),n.__$count--,0===n.__$count&&(n.__$m_observer.disconnect(),n.__$m_observer=null,n=null))})})}),n.__$m_observer.observe(n,{childList:!0}))},onRemoved:function(e,t){de(t)}});be.prototype.get=function(e){var t,n,r,i=this.cacheMap.get(e);return void 0===i?("string"==typeof(t=e())&&(t=$.Renderer.createTextNode(t)),this.curCache=((r=t)?$.Renderer.isFragment(r)?Array.from(r.childNodes):Array.isArray(r)?r:[r]:null)||[],this.cacheMap.set(e,this.curCache),t):(this.curCache=i||[],n=function(e){if(!e)return null;for(var t=$.Renderer.createFragment(),n=0,r=e;n<r.length;n++){var i=r[n];t.appendChild(i)}return t}(i),this.tasks.length&&(this.tasks.forEach(function(e){e(n)}),this.tasks=[]),n)},be.prototype.refreshCache=function(e,t){if(!this.curCache)throw new Error("CurCache is null");var n=e.parentElement;if(n){for(var r=n.childNodes,i=r.length,o=!1,a=[],c=0;c<i;c++){var u=r[c];if(o){if(u===t)break;a.push(u)}u===e&&(o=!0)}for(var l=-1,s=-1,f=this.curCache.length,c=0;c<f;c++)if((u=this.curCache[c])===e)l=c;else if(u===t){s=c;break}(n=this.curCache).splice.apply(n,L([l+1,s-l-1],a,!1))}},be.prototype.addTask=function(e){this.tasks.push(e)};var ge=be;function be(){this.cacheMap=new WeakMap,this.curCache=[],this.tasks=[]}_e=!1,n=[],r=null;var _e,n,r,Ee={next:function(e){null!=(e.parent=r)&&r.children.push(e),n.push(e),r=e},back:function(){n.pop(),r=0===n.length?(_e=!0,null):n[n.length-1]},visit:function(e,t){if(!_e||r===e)return t();n=[e],r=e;e=t();return n=[],r=null,e},current:function(){return r}},xe=(o.prototype.wrapAnchor=function(e){var t=$.Renderer.createFragment();return t.appendChild(this.start),e&&s(t,e),t.appendChild(this.end),t},o.prototype.add=function(e){this.branchCalls.push(e)},o.prototype.getCache=function(e){var t=this;return Ee.visit(this,function(){return t.cache.get(e)})},o.prototype.initAnchor=function(e){return $.Renderer.isFragment(e)?(e.appendChild(this.end),e.insertBefore(this.start,e.childNodes[0]),e):this.wrapAnchor(e)},o.prototype.replace=function(e){var t;if(e!==this.activeIndex)return t=this.branchCalls[e],this.activeIndex=e,e=this.getCache(t),this.initilized?(this.refresh(e),e):(this.initilized=!0,this.initAnchor(e))},o.prototype.refresh=function(e){var t;this.clear()?($.Renderer.isElement(e)&&null!=(t=this.end.parentElement)&&t.insertBefore(e,this.end),null!=(t=this.parent)&&t.refreshCache(this),this.triggerRefresh()):null!=(t=this.parent)&&t.addRefreshCall(this.refresh.bind(this,e))},o.prototype.addRefreshCall=function(e){var t;this.start.parentElement?this.refreshList.push(e):null!=(t=this.parent)&&t.addRefreshCall(e)},o.prototype.triggerRefresh=function(){var e;this.refreshList.length?(e=this.refreshList,this.refreshList=[],e.forEach(function(e){e()})):null!=(e=this.parent)&&e.triggerRefresh()},o.prototype.quit=function(){Ee.back()},o.prototype.returned=function(e){return!1!==(e="number"==typeof e?this.branchCalls[e]:e).returned},o.prototype.refreshCache=function(e){this.cache.refreshCache(e.start,e.end),null!=(e=this.parent)&&e.refreshCache(this)},o.prototype.clear=function(){var e=this.start,t=this.end;if(!t.parentElement)return!1;for(;e.nextSibling&&e.nextSibling!==t;)e.nextSibling.remove();return!0},o);function o(){this.start=$.Renderer.createEmptyMountNode(),this.end=$.Renderer.createEmptyMountNode(),this.parent=null,this.children=[],this.branchCalls=[],this.activeIndex=-1,this.refreshList=[],this.initilized=!1,this.cache=new ge,Ee.next(this)}f.prototype.switchNode=function(e){return this.activeIndex===e||(this.activeIndex=e,this.branch.replace(e),this.branch.returned(e))},f.prototype.onDataChange=function(e){for(var t,n=e.length,r=0;r<n;r++)if(e[r])return(t=this.switchNode(r))||r===n-1?t:this.switchNode(n-1)},f.prototype.acceptIf=function(e,t,n){void 0===n&&(n=!1);var r=this.index,i=this.index++;this.refs[i]=e,this.branch.add(t),this.returnEle!==b||this.matched&&!n||("function"==typeof e?e():e.v)&&(this.matched=!0,n||(this.activeIndex=r),e=this.branch.replace(i),this.returnEle===b&&this.branch.returned(t)&&(this.returnEle=e))},f.prototype.elif=function(e,t){return this.acceptIf(e,t),this},f.prototype.else=function(e){return this.acceptIf(function(){return!0},e),this},f.prototype.end=function(e){var t=this;return this.acceptIf(function(){return!0},e=void 0===e?function(){}:e,!1),y(function(){return t.refs.map(function(e){return"function"==typeof e?e():e.v})},this.onDataChange.bind(this),!1),this.branch.quit(),this.returnEle!==b?this.returnEle:$.Renderer.createFragment()};var Re=f;function f(e,t){this.activeIndex=-1,this.index=0,this.returnEle=b,this.matched=!1,this.refs=[],this.branch=new xe,this.acceptIf(e,t,!0)}function we(e,t){return new Re(e,t)}$e.prototype.run=function(e){for(var t=!1,n=null,r=this.caseList.length,i=0;i<r;i++){var o=this.caseList[i][0];if(Array.isArray(o)&&o.includes(e)||o===e||null===o){t=!0,n=this.branch.replace(i);break}}return n=t?n:this.branch.replace(r)},$e.prototype.end=function(e){for(var t=this,e=(this.endCall=e=void 0===e?function(){}:e,y(this.target,function(e){t.run(e)})),n=0,r=t.caseList;n<r.length;n++){var i=r[n][1];i&&t.branch.add(i)}t.branch.add(t.endCall),t.branch.quit();e=this.run(e.v);return $.Renderer.isElement(e)?e:$.Renderer.createFragment()};var Ce=$e;function $e(e,t){this.branch=new xe,this.target=e,this.caseList=t}function Ae(e,t){return new Ce(e,t)}function Te(u,e,p,v){void 0===p&&(p="item"),void 0===v&&(v="");var y=this;if(!(e=void 0===e?!1:e))return y.map(u);var m=$.Renderer.createFragment(),e=T(y),t=y.length;if(e){for(var i,g,b=$.Renderer.createEmptyMountNode(),_=[],E=[],x=(i=Ee.current(),{insertBefore:function(t,n,e){var r,e=ye(n,e);i?(r=i.cache,n.parentElement===e?(me(r.curCache,t,n),e.insertBefore(t,n)):r.addTask(function(e){me(r.curCache,t,n);try{e.insertBefore(t,n)}catch(e){console.warn(e)}})):e.insertBefore(t,n)},removeElement:function(t){var n,e;i?(n=i.cache,t.parentElement?(t.remove(),e=n.curCache.indexOf(t),n.curCache.splice(e,1)):n.addTask(function(){t.remove();var e=n.curCache.indexOf(t);n.curCache.splice(e,1)})):t.remove()},addTask:function(e){null!=i&&i.cache.addTask(e)}}),R=[],w=(y[A].scopeItems=R,y[A]._map=!0,R.key=p,function(e,t){e=S({v:e},{shallow:!0}),(n={})[p]=e;var n,e=n;return v&&(e[v]=S({v:t},{shallow:!0})),e}),C=function(e,t,n,r,i){void 0===n&&(n=R),void 0===r&&(r=_),void 0===i&&(i=E);var o,a,c=w(e,t),e=Y(),i=(i.push(e),Q(e,function(){return u(c[p],c[v]||t)})),e=i;return i?$.Renderer.isFragment(i)?0===(a=(o=i.childNodes).length)?(e=$.Renderer.createEmptyMountNode(),i.appendChild(e),0===t&&(g=e)):(e=o[a-1],0===t&&(g=o[0])):0===t&&(g=i):(e=i=$.Renderer.createEmptyMountNode(),0===t&&(g=i)),n.push(c),r.push(e),i},n=0;n<t;n++){var r=y[n],o=C(r,n);m.appendChild(o)}m.appendChild(b),oe(y,function(e){var o=e.index,a=e.count,t=e.data;switch(e.type){case $.OprateType.Push:for(var n=$.Renderer.createFragment(),r=y.length,i=0;i<t.length;i++){var c=C(t[i],r+i);n.appendChild(c)}x.insertBefore(n,b,m);break;case $.OprateType.Replace:R[o]?(t[0]!==R[o][p].v&&(R[o][p].v=t[0]),v&&(R[o][v].v=o)):R[o]=w(t[0],o);break;case $.OprateType.Remove:if(0===a)break;var u=function(){for(var e,t=o-1,n=(null==(e=_[t+a])?void 0:e.nextSibling)||b,r=t<0?g||b:_[t];r.nextSibling&&r!==n&&r.nextSibling!==n;){var i=r.nextSibling;x.removeElement(i)}t<0&&(r!==b?(g=r.nextSibling,x.removeElement(r)):g=b),_.splice(o,a),R.splice(o,a),E.splice(o,a).forEach(function(e){e.clean()})};b.parentElement?u():x.addTask(u);break;case $.OprateType.Insert:var l=[],s=[],f=[],h=$.Renderer.createFragment(),d=g,u=(t.forEach(function(e,t){e=C(e,o+t,s,l,f);h.appendChild(e)}),R.splice.apply(R,L([o,0],s,!1)),_.splice.apply(_,L([o,0],l,!1)),E.splice.apply(E,L([o,0],f,!1)),function(){var e=0===o?d||b:_[o-1].nextSibling;ye(e,m).insertBefore(h,e)});b.parentElement?u():x.addTask(u)}})}else for(var o,n=0;n<t;n++)(o=u(c(y[n]),c(n)))&&m.appendChild(o);return m}function m(e,i){var t="object"===d(e)&&!T(e)&&void 0!==e.enable,n=t?e.value:e,o=!0,a="",a=Se(n,function(e,t,n,r){a=e,o&&i(e,t,n,r)});return t&&(o=y(e.enable,function(e){i((o=e)?a:null,null,"","")}).v),i(o?a:null,void 0,"",""),a}function Se(e,t){return"function"==typeof e||T(e)&&void 0!==e.v?y(e,t).v:e}U(Te);var Le={zIndex:1,opacity:1,flex:1,flexGrow:1,flexShrink:1},ke="_$single_style";function w(e,t,n,r,i){void 0===i&&(i=!1),"number"!=typeof n||Le[t]||(n="".concat(n,"px")),e.style[t]=n=r?"":n,i&&(e[ke]||(e[ke]={}),e[ke][t]=n)}function Ne(u,e){if(null!=e){if("function"==typeof e||T(e)){var l="function"==typeof e;m(e,function(e,t,n,r,i){if("string"==typeof e)if(l){u.setAttribute("style",e);var o=u[ke];if(o)for(var a in o)u.style[a]=o[a]}else w(u,r,e,i);else{for(var a in e){var c=e[a];"function"==typeof c&&(c=c()),w(u,a,c)}for(var a in t)void 0===e[a]&&w(u,a,"")}})}else{if("object"!==d(e))return;for(var t in e)!function(t){m(e[t],function(e){w(u,t,e,null===e)})}(t)}return 1}}var Oe={INPUT:1,SELECT:1,TEXTAREA:1};function je(f,e){if(null!=e)if("function"==typeof e||T(e))m(e,function(e,t,n,r,i){if("string"==typeof e){if(r&&"v"!==r)return void(i?f.removeAttribute(r):f.setAttribute(r,e));i=e.matchAll(/(.*?)=(.*?)(&|$)/g);e={};for(var o=0,a=i;o<a.length;o++)e[(c=a[o])[1]]=c[2];r=t.matchAll(/(.*?)=(.*?)(&|$)/g);t={};for(var c,u=0,l=r;u<l.length;u++)t[(c=l[u])[1]]=c[2]}for(var s in e)f.setAttribute(s,e[s]);for(var s in t)void 0===e[s]&&f.removeAttribute(s)});else{if("object"!==d(e))return;for(var t in e)!function(t){m(e[t],function(e){null===e?f.removeAttribute(e):f.setAttribute(t,e)})}(t)}}var Pe="_$single_class";function C(e,t,n,r){void 0===r&&(r=!1),e.classList[(n=void 0===n?!1:n)?"remove":"add"](t),r&&(e[Pe]||(e[Pe]=new Set),e[Pe][n?"delete":"add"](t))}function Fe(e,t){e.className=Array.from(new Set(t.split(" "))).join(" ");t=e[Pe];if(t)for(var n=0,r=t;n<r.length;n++){var i=r[n];e.classList.add(i)}}function Me(c,e){if(null!=e)if("function"==typeof e||T(e))m(e,function(e,t,n,r,i){if("string"==typeof e)Fe(c,e);else if("boolean"==typeof e)C(c,r,i||0==e);else{for(var o in e){var a=e[o];"function"==typeof a&&(a=a()),C(c,o,0==a)}for(var o in t)void 0===e[o]&&C(c,o,!0)}});else if("object"===d(e))for(var t in e)!function(t){m(e[t],function(e){C(c,t,!e)})}(t);else"string"==typeof e&&Fe(c,e)}function Ie(e,r,t){var i=null,o=null,a=null,c=null,u=null;if(r)for(var n in r)!function(e){var t,n=r[e];switch(e){case"$mount":i=n,delete r[e];break;case"$created":o=n,delete r[e];break;case"$appended":a=n,delete r[e];break;case"$mounted":c=n,delete r[e];break;case"$removed":u=n,delete r[e];break;default:T(n)?r[e]=l(function(){return n.v},!0):r[e]=((t={v:n})[g]=$.AlinsType.Ref,t)}}(n);e=function(e,n){if(e){var r,i;if(e instanceof Promise)return r=$.Renderer.createFragment(),i=$.Renderer.createEmptyMountNode(),r.appendChild(i),e.then(function(e){if($.Renderer.isElement(e)){var t=ye(i,r);try{null!=n&&n(e),s(t,e,i)}catch(e){console.log("node 已被隐藏")}finally{i.remove()}}}),r;null!=n&&n(e)}return e}(e(r||{},t),function(e){e=ve(e);null!=o&&o(e),a&&(e.__$appended=a),c&&(e.__$mounted=c),u&&(e.__$removed=u)});return i&&s(i="string"==typeof i?$.Renderer.querySelector(i):i,e),e}function Be(f){var e,t,n;if(f.isText)h=$.Renderer.createTextNode(""),""!==f.text&&(r=f.text,(n=function(e){h.textContent=e})(Se(r,n),void 0,"",""));else{var r=!!f.tag,h=r?$.Renderer.createElement(f.tag):$.Renderer.createFragment();if(f.children&&0<f.children.length&&(null!=(n=f.attributes)&&n.$html?console.warn("$html 属性的元素的子元素将失效"):function e(t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];null!=o&&(Array.isArray(o)?e(t,o):$.Renderer.isElement(o)?s(t,o):(o=Be(qe(o)?o:{text:o,isText:!0}),t.appendChild(o)))}}(h,f.children)),r&&f.attributes){var i,o=f.attributes.$mount,a=(null!=(t=(e=f.attributes).$created)&&t.call(e,h),function(t){var e,n,r=f.attributes[t];if(c=h,n=r,(e=t).startsWith("on")&&((null===c[e]||"function"==typeof c[e])&&("function"==typeof n||"function"==typeof(null==n?void 0:n.listener)||"string"==typeof(null==n?void 0:n.__deco)))){var i=h,o=t,a=r;if(o=o.substring(2),"function"==typeof a)i.addEventListener(o,a);else if(T(a))i.addEventListener(o,a.v);else{if(a.__deco){var c=a.__deco.split("-");a={listener:a.v};for(var u=0,l=c;u<l.length;u++){var s=l[u];a[s]=!0}}i.addEventListener(o,function e(t){a.self&&t.target!==i||(a.stop&&t.stopPropagation(),a.prevent&&t.preventDefault(),a.once&&i.removeEventListener(o,e,a.capture),a.listener(t))},a.capture)}return"continue"}switch(t){case"$created":break;case"$appended":h.__$appended=r;break;case"$removed":h.__$removed=r;break;case"$mounted":h.__$mounted=r;break;case"$mount":break;case"$html":m(r,function(e){h.innerHTML=e||""});break;case"$ref":r(h);break;case"$attributes":je(h,r);break;case"$show":m(r,function(e){h.style.display=e?"":"none"});break;case"class":Me(h,r);break;default:if("style"===t&&Ne(h,r)||function(t,e,n){if(("value"===n||"checked"===n)&&(T(e)||e.__deco)){var r,i,o,a=t.tagName;if(Oe[a])return r=e.__deco||d(e.v),i=(i={boolean:function(e){return"true"===e},number:function(e){return parseFloat(e)},string:function(e){return e}}[r])||function(e){return e},o=e.__deco?e.v:e,t.addEventListener("SELECT"===a?"change":"input",function(){var e=t[n];r!==d(e)&&(e=i(e)),o.v=Number.isNaN(e)?"":e}),y(o,function(e){t[n]=e},!1),t[n]=o.v,1}}(h,r,t)||function(t,e,n){var r;if(e.startsWith("class$"))return r=e.substring("class$".length),m(n,function(e){C(t,r,!e,!0)}),1}(h,t,r)||function(t,e,n){var r;if(e.startsWith("style$"))return r=e.substring("style$".length),m(n,function(e){w(t,r,e,null===e,!0)}),1}(h,t,r))break;m(r,function(e){null===(e="object"===d(e)?e.enable?e.value:null:e)?h.removeAttribute(t):h.setAttribute(t,e)})}});for(i in f.attributes)a(i);if(o){if(!(o="string"==typeof o?$.Renderer.querySelector(o):o))throw new Error("$mount is not a Element");s(o,h)}}}return h}function qe(e){return"object"===d(e)&&!0===e.jsx}function De(e,t){void 0===t&&(t=null);for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return"function"==typeof e?Ie(e,t,n):Be({tag:e,attributes:t,children:n,jsx:!0})}var h=l,We=y;var ze=ae,He=ce;function Ue(e,t,n,r,i){return Te.call(e,t,n,r,i)}var k,N,Ge=c,Ve=we,Xe=Ae,O=((N=k=k||{})[N.Element=0]="Element",N[N.Text=1]="Text",N[N.Empty=2]="Empty",N[N.Frag=3]="Frag",{render:function(e){var t=new Array(e.deep).fill("  ").join(""),e="".concat(e.innerText);console.log("".concat(t,"text: ").concat(e.trim()))}});function Je(e,t){var n=null==(n=e._onMounted)?void 0:n.call(e,e);n&&(e._onRemoved=n),e.parentElement=t}Object.defineProperty(P.prototype,"textContent",{get:function(){return this.innerText},set:function(e){this.innerText=e},enumerable:!1,configurable:!0}),P.prototype.addEventListener=function(e,t){var n;this._listeners[e]||(this._listeners[e]=new Set),this._listeners[e].add(t),null!=(n=O.addEventListener)&&n.call(O,this,e,t)},P.prototype.removeEventListener=function(e,t){var n;this._listeners[e]&&this._listeners[e].delete(t),null!=(n=O.removeEventListener)&&n.call(O,this,e,t)},P.prototype.setAttribute=function(e,t){this._attributes[e]=t},P.prototype.removeAttribute=function(e){delete this._attributes[e]},P.prototype.getAttribute=function(){return""},Object.defineProperty(P.prototype,"className",{get:function(){return Array.from(this._classList).join(" ")},set:function(e){this._classList=new Set(e.split(" "))},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"parentNode",{get:function(){return this.parentElement},enumerable:!1,configurable:!0}),P.prototype.remove=function(){var e=null==(e=this.parentElement)?void 0:e.children;e&&(e.splice(e.indexOf(this),1),null!=(e=this._onRemoved)&&e.call(this,this))},Object.defineProperty(P.prototype,"innerHTML",{get:function(){return this.innerText},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"outerHTML",{get:function(){return this.innerText},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"childNodes",{get:function(){return this.children},enumerable:!1,configurable:!0}),P.prototype.appendChild=function(e){if(e.type===k.Frag)for(var t=0,n=e.childNodes;t<n.length;t++){var r=n[t];this.appendChild(r)}else this.children.push(e),Je(e,this)},Object.defineProperty(P.prototype,"nextSibling",{get:function(){var e;return(null==(e=this.parentElement)?void 0:e.children[this.index+1])||null},enumerable:!1,configurable:!0}),P.prototype.insertBefore=function(e,t){if(t.parentElement!==this)throw new Error("insertBefore error");if(t.type===k.Frag)for(var n=0,r=t.childNodes;n<r.length;n++){var i=r[n];this.insertBefore(i,t)}else this.children.splice(t.index,0,e),Je(e,this);return e},Object.defineProperty(P.prototype,"index",{get:function(){var e=this.parentElement;return e?e.children.indexOf(this):-1},enumerable:!1,configurable:!0}),P.prototype.render=function(){var e,t=this,n=null==(n=O.render)?void 0:n.call(O,this);return this.children.forEach(function(e){e.deep=t.deep+1,e.render()}),"function"==typeof n&&(n=n(this)),null!=(e=O.onRenderEnd)&&e.call(O,this),n},P.prototype._findName=function(e){if(this.tagName===e)return this;for(var t=0,n=this.children;t<n.length;t++){var r=n[t]._findName(e);if(r)return r}return null},P.Root=null;var j=P;function P(e,t,n){void 0===t&&(t=""),void 0===n&&(n="");var r=this;this.type=k.Element,this.style={},this.tagName="",this.innerText="",this._attributes={},this._listeners={},this.deep=0,this._classList=new Set,this.classList={add:function(e){r._classList.add(e)},remove:function(e){r._classList.delete(e)}},this.parentElement=null,this.children=[],this.type=e,this.tagName=n,this.innerText=t}return $.CustomElement=j,$._$c=h,$._$cc=function(e,t){return l({get:e,set:t})},$._$ce=De,$._$e=ze,$._$es=He,$._$if=Ve,$._$mf=Ge,$._$mm=Ue,$._$mnr=function(e){return e.returned=!1,e},$._$mu=function(e){return e._update=!0,e},$._$r=function(e,t){return ie({v:e},t="boolean"!=typeof t?"object"===d(null==e?void 0:e.v)&&T(e.v):t)},$._$sw=Xe,$._$w=We,$._if=we,$._switch=Ae,$.addLns=R,$.appendChild=s,$.arrayFuncProxy=G,$.assignCompData=ce,$.assignData=ae,$.assignLast=function(e,t){e[e.length-1]=t},$.child=B,$.computed=l,$.createCleaner=Y,$.createProxy=S,$.createStore=function(e){var t=e.id,n=e.state,r=e.actions,i=e.getters,t=t||"store_".concat(le++);return function(){var a=se[t];if(!a){if(a=re(n()),r)for(var e in r)a[e]=r[e].bind(a);if(i)for(e in i)!function(e){Object.defineProperty(a,e,{get:function(){return i[e].call(a,a)},set:function(){throw new Error("Cannot set getters")}})}(e);(se[t]=a).$watch=function(e,t){var o;return"string"==typeof e&&(o=e,e=function(){for(var e=a,t=o,n="",r=0;r<t.length;r++){var i=t[r];"."===i||"["===i||"]"===i?n&&(e=e[n],n=""):n+=i}return e=n?e[n]:e}),y(e,t)}}return a}},$.createUtils=te,$.defineRenderer=pe,$.delay=function(t){return void 0===t&&(t=0),new Promise(function(e){setTimeout(function(){e(!0)},t)})},$.empty=b,$.getCurCleaner=K,$.getFirstElement=ve,$.getFuncArgs=function(e){return(null==(e=e.toString().match(M))?void 0:e[0])||""},$.getStore=function(e){return se[e]||null},$.isDepReactive=Z,$.isObject=function(e){return e&&"object"===F(e)},$.isProxy=T,$.isRef=function(e){return(null==e?void 0:e[g])===$.AlinsType.Ref},$.isSafari=e,$.isSimpleValue=function(e){return"object"!==F(e)||null===e},$.isStringTemplateArray=I,$.join=function(e,t){for(var n="",r=0;r<e.length-1;r++)n+="".concat(e[r]).concat("function"==typeof t?t(r):t[r]);return n+e[e.length-1]},$.map=Te,$.mergeSet=function(t,e){return t?(e&&e.forEach(function(e){t.add(e)}),t):e},$.mockRef=c,$.observe=ee,$.pureproxy=q,$.react=re,$.reactive=ie,$.reactiveBindingEnable=m,$.registArrayMap=U,$.replaceArrayItem=V,$.replaceLNS=ne,$.replaceWholeArray=X,$.setCurCleaner=J,$.splitTwoPart=function(e,t){return-1===(t=e.indexOf(t))?[e,""]:[e.substring(0,t).trim(),e.substring(t+1).trim()]},$.trig=a,$.type=g,$.useCurCleaner=Q,$.useRenderer=function(e){return void 0===e&&(e={}),Object.assign(O,e),pe({querySelector:function(e){var t;return null==(t=j.Root)?void 0:t._findName(e)},createElement:function(e){return new j(k.Element,"",e=void 0===e?"":e)},createTextNode:function(e){return new j(k.Text,e)},createEmptyMountNode:function(){return new j(k.Empty)},createFragment:function(){return new j(k.Frag)},isFragment:function(e){return e.type===k.Frag},isElement:function(e){return e.type===k.Element||e.type===k.Text},onMounted:function(e,t,n){t._onMounted=n},onRemoved:function(e,t,n){t._onRemoved=n}}),e=new j(k.Element,"","root"),j.Root=e},$.util=A,$.version="0.0.30",$.watch=y,$.watchArray=oe,$.watchRef=function(e,t){return y(e,t,!1)},$.wrapReactive=u,Object.defineProperty($,"__esModule",{value:!0}),$}({});
