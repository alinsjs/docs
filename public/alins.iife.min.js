var Alins=function(w){"use strict";function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||((r=r||Array.prototype.slice.call(t,0,i))[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}w.AlinsType=void 0;var g=Symbol("t"),T=Symbol("u"),F=Symbol("c"),b=Symbol("e"),a=Symbol("t"),M=Symbol("pp");function _(e){return(_="function"==typeof Symbol&&"symbol"==d(Symbol.iterator)?function(e){return d(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":d(e)})(e)}function p(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||((r=r||Array.prototype.slice.call(t,0,i))[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}function I(n,e,r){return n[T].shallow?e:e.map(function(e,t){return e&&"object"===_(e)&&!L(e)?S(e,{commonLns:n[T].commonLns,path:n[T].path,key:"".concat(r+t)}):e})}function v(e,t,n,r,i,o){null!=(e=e[a])&&e.forEach(function(e){e({type:t,data:r,index:n,count:i,fromAssign:o})})}function B(e,t){return e[T].replaceLns=!1,t=t(),delete e[T].replaceLns,t}(e=w.AlinsType=w.AlinsType||{})[e.Proxy=1]="Proxy",e[e.Ref=2]="Ref",e[e.BindResult=3]="BindResult",w.OprateType=void 0,(e=w.OprateType=w.OprateType||{})[e.Replace=0]="Replace",e[e.Remove=1]="Remove",e[e.Insert=2]="Insert",e[e.Push=3]="Push",e[e.Sort=4]="Sort";var D={splice:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=this.target,o=this.origin,a=(e>=i.length?(e=i.length,t=0):(void 0===t||e+t>i.length)&&(t=i.length-e),n.length),c=Math.min(t,a),u=e+c;t<a?(c=I(i,n.slice(c),u),v(i,w.OprateType.Insert,u,c,c.length)):(c=t-a,v(i,w.OprateType.Remove,u,i.slice(u,u+c),c));for(var l=e;l<u;l++){var s=n[l-e];v(i,w.OprateType.Replace,l,[s,i[l]],1)}var f=i[T].scopeItems,h=null==f?void 0:f.slice(e,e+n.length).map(function(e){return e[f.key].v});return B(i,function(){return o.call.apply(o,p([i[T].proxy,e,t],h,!1))})},push:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.target,r=this.origin,e=I(n,e,n.length);return v(n,w.OprateType.Push,n.length,e,e.length),r.call.apply(r,p([n[T].proxy],e,!1))},pop:function(){var e=this.target,t=this.origin;return 0<e.length&&v(e,w.OprateType.Remove,e.length-1,[e[e.length-1]],1),t.call(e[T].proxy)},unshift:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.target,r=this.origin,e=I(n,e,0);return v(n,w.OprateType.Insert,0,e,e.length),B(n,function(){return r.call.apply(r,p([n[T].proxy],e,!1))})},shift:function(){var e=this.target,t=this.origin;return 0<e.length&&v(e,w.OprateType.Remove,0,e[0],1),t.call(e[T].proxy)},replace:function(e,t,n,r){v(e,w.OprateType.Replace,t,[r,n],1),e[t]=r}},q={};function W(e){q.map=e}function z(e,t,n){return D[t]&&e[a]&&!e[t].hack?(e[t]=D[t].bind({target:e,origin:e[t]}),e[t].hack=!0,e[t]):q[t]?q[t].bind(e):Reflect.get(e,t,n)}function H(e,t,n){return e[a]?(D.replace(e,parseInt(t),e[t],n),!0):b}function U(e,t){if(!e[a])return b;t[a]=e[a];for(var n=e.length,r=t.length,i=Math.min(n,r),o=0;o<i;o++)v(e,w.OprateType.Replace,o,[t[o],e[o]],1),e[T].data[o]=t[o];return n!==r&&(r<n?(v(e,w.OprateType.Remove,i,null,n-r),e.splice(i)):(n=t.slice(i),e.push.apply(e,n))),!0}var i=null;function G(e){i=e}function X(){return i}function J(e,t){return G(e),e=t(),G(null),e}function K(){var t=[];return i={clean:function(){t.forEach(function(e){e()}),t=null},collect:function(e){t&&t.push(e)}}}var E=null,x=!1;function Q(e,t){return E=t,x=!1,t=e(),E=null,t}function V(){return x}function Y(e,t){var n=t=t||e;return Q(e,t=function(){return Q(e,n)})}function L(e,t){return!((t=void 0!==t&&t)&&(null==e||!e[T]))&&((t=null==e?void 0:e[g])===w.AlinsType.Proxy||t===w.AlinsType.Ref)}var e=L;function c(e){return(e={v:e})[g]=w.AlinsType.Ref,e}function Z(e,t){return(t=void 0!==t&&t)||!e||"object"!==_(e)?((t={v:e})[g]=w.AlinsType.Ref,t):e}function ee(a,t,e){function r(t,n,r,i,e){function o(e){e(n,r,"".concat(c.join("."),".").concat(t),t,i)}e&&null!=(e=a[T].commonLns)&&e.forEach(o),null!=(e=a[T].lns[t])&&e.forEach(o),null!=(e=a[T].extraLns)&&e.forEach(function(e){null!=(e=e[t])&&e.forEach(o)})}var c=t?p(p([],e,!0),[t],!1):p([],e,!0),e=Array.isArray(a);a[T].commonLns&&(a[T].lns[t]=new Set,a[T].commonLns.forEach(function(e){a[T].lns[t].add(e)})),Object.assign(a[T],{path:c,triggerChange:r,forceWrite:function(e,t){if(t)return r(t,e,a[t]),e;for(var n in e)r(n,e[n],a[n]);Object.assign(a,e)},subscribe:function(e,t){void 0===t&&(t=!0);var n,r=a[T];for(n in R(r,"commonLns",e),a)R(r.lns,n,e),t&&L(a[n])&&a[n][T].subscribe(e,t)},isArray:e,forceUpdate:function(){for(var e in a)r(e,a[e],a[e])}})}function S(c,e){var t,n=(e=void 0===e?{}:e).commonLns,u=void 0===(r=e.lns)?{}:r,l=void 0!==(r=e.shallow)&&r,s=e.set,i=e.get,f=void 0===(r=e.path)?[]:r,r=void 0===(r=e.key)?"":r,h=void 0!==(e=e.isProp)&&e;if("Object"!==(t=(t=c).constructor.name)&&"Array"!==t||L(c,!0))return c;if(!l){var o=c,a=f,d;for(d in o){var p=o[d];if(p&&"object"===_(p))try{o[d]=S(p,{path:a,key:d})}catch(o){console.warn(o)}}}c[g]||(c[g]=w.AlinsType.Proxy),c[T]={commonLns:n,lns:u,shallow:l,data:c},ee(c,r,f);var v=(e=c[T]).triggerChange,y=e.isArray,m=y?c.length:null,n=new Proxy(c,{get:function(e,t,n){var r="function"==typeof e[t];if(y&&r)return z(e,t,n);if("symbol"===_(t)||r){if(t===M)return!0}else{if(E)return x=x||!0,R(u,t,E),Reflect.get(e,t,n);if("v"===t&&i)return i()}return Reflect.get(e,t,n)},set:function(r,i,o,a){function e(){var e,t,n=Reflect.set(r,i,o,a);return y&&"length"!==i&&null!=(e=u.length)&&e.size&&c.length!==m&&Promise.resolve().then(function(){(t=c.length)!==m&&(v("length",t,m,!1,!1),m=t)}),n}if("symbol"===_(i)||"function"==typeof r[i])return e();var t=null;if(y&&"length"===i?(t=m,m=c[i]):t=r[i],o===t&&(null==(n=r[T])||!n._map))return!0;if(null===s)return console.warn("".concat(h?"props":"Computed"," 不可设置")),!0;if("v"===i&&s)return s(o,t,"".concat(f.join("."),".").concat(i),i),!0;o&&"object"===_(o)&&!l&&(L(o)?(o[M]||(o=o[T].proxy),L(t)&&!1!==c[T].replaceLns&&te(o,t)):(null!=t&&t[T]&&(t[T].removed=!0),o=S(o,{commonLns:r[T].commonLns,lns:null==(n=null==t?void 0:t[T])?void 0:n.lns,shallow:l,path:f,key:i})));var n=b;return y&&/^\d+$/.test(i)&&(n=H(r,i,o)),(n=Array.isArray(o)&&Array.isArray(t)?U(t,o):n)===b&&(n=e()),v(i,o,t,!1,void 0===t),n},deleteProperty:function(e,t){return v(t,void 0,e[t],!0),Reflect.deleteProperty(e,t)}});return c[T].proxy=n}function te(e,t){var n,r,i=e[T],o=t[T];for(r in o.extraLns&&o.extraLns.has(i.lns)?(n=i.lns,i.lns=o.lns,o.lns=n,o.extraLns.delete(n)):i.extraLns?i.extraLns.add(o.lns):i.extraLns=new Set([o.lns]),e)L(e[r])&&L(t[r])&&te(e[r],t[r])}function R(e,t,n){var r=e[t];(r=r||(e[t]=new Set)).has(n)||((e=i)&&"v"===t&&e.collect(function(){r.delete(n),n=null}),r.add(n))}function ne(e,t){return void 0===t&&(t=!1),L(e.v)?e:S(Z(e),{shallow:t})}function re(e,t){return ne({v:e},t="boolean"!=typeof t?"object"===_(null==e?void 0:e.v)&&L(e.v):t)}function u(e,t){void 0===t&&(t=!1);var n,r=(i="function"==typeof e)?e:e.get,i=i?null:e.set,o=!1,a=null,a=e=Y(r,function(){o?null!=n&&n[T].forceWrite(a,"v"):(o=!0,a=null==n?void 0:n[T].forceWrite(r(),"v"),o=!1)});return x?n=S(Z(e,!0),{set:i,get:r,isProp:t}):{v:e}}function y(o,a,e){var c;return void 0===e&&(e=!0),"function"==typeof o?(c=b,{v:c=Y(o,function(e,t,n,r,i){if(e=o._update?e:o(),function e(t,n,r,i){if(void 0===r&&(r=!0),void 0===i&&(i=!0),t&&n&&"object"===_(t)&&"object"===_(n)&&(i||r)){if(Array.isArray(t)){if(t.length!==n.length)return}else if(Object.keys(t).length!==Object.keys(n).length)return;for(var o in t)if(!e(t[o],n[o],r,!1))return;return 1}return t===n}(c,e))return e;a(e,c,n,r,i),c=e})}):(L(o)&&o[T]&&o[T].subscribe(a,e),o)}function ie(e,t){e[a]?e[a].push(t):e[a]=[t]}function oe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return ce(e,!1)}function ae(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return ce(e,!0)}function ce(i,o){return i.forEach(function(t,e){if(L(t)){var n,r={};for(n in t)!function(e){r[e]=function(){return t[e]},o&&(r[e]=u(r[e]))}(n);i[e]=r}}),Object.assign.apply(null,i)}var ue=0,le={};var se=0,t=null;function fe(e){if(e.__$removed)return e.__$removed(e),e.__$removed=null,void(--se<=0&&(t.disconnect(),t=null))}function he(e){e.setAttribute("__rm",""),t?se++:(se=1,(t=new window.MutationObserver(function(e){e.forEach(function(e){"childList"===e.type&&e.removedNodes.forEach(function(e){1===e.nodeType&&(fe(e),e.querySelectorAll("[".concat("__rm","]")).forEach(function(e){fe(e)}))})})})).observe(window.document.body,{childList:!0,subtree:!0}))}function de(t){return function(e){ve.add(t,e)}}l={},r=pe=0;var l,pe,r,ve={enter:function(){return r=pe++},add:function(e,t){var n;l[r]?l[r][e]?l[r][e].push(t):l[r][e]=[t]:l[r]=((n={})[e]=[t],n)},fill:function(n,e,o){var a=l[e];if(a){delete l[e];var t,r=function(e){var r=a[e],t="$".concat(e),i=n[t];n[t]="mounted"===e?function(){function t(e){"function"==typeof e&&n.push(e)}var n=[];if(t(null==i?void 0:i(o)),r.forEach(function(e){t(e(o))}),0<n.length)return function(){n.forEach(function(e){return e(o)}),n=null}}:function(){null!=i&&i(o),r.forEach(function(e){e(o)})}};for(t in a)r(t)}}},ye=de("created"),me=de("appended"),ge=de("mounted"),be=de("removed");function _e(e){return w.Renderer=e}function Ee(e){return e?w.Renderer.isFragment(e)?e.firstChild:e:null}function s(e,t,n){var r,i=Ee(t);i.__$mounted&&null!=(r=w.Renderer.onMounted)&&r.call(w.Renderer,e,i,i.__$mounted),i.__$removed&&null!=(r=w.Renderer.onRemoved)&&r.call(w.Renderer,e,i,i.__$mounted),n?e.insertBefore(t,n):e.appendChild(t),null!=(r=i.__$appended)&&r.call(i,i),i.__$appended=null}function xe(e,t){s(t="string"==typeof(t=void 0===t?"body":t)?w.Renderer.querySelector(t):t,e)}function Re(e,t){return void 0===t&&(t=null),e.parentElement||e.parentNode||t}function $e(e,t,n){n=e.indexOf(n);-1!==n&&(t=w.Renderer.isFragment(t)?Array.from(t.childNodes):[t],0===n?e.unshift.apply(e,t):e.splice.apply(e,A([n,0],t,!1)))}w.Renderer=void 0,"undefined"!=typeof window&&void 0!==window.document&&_e({querySelector:function(e){return document.querySelector(e)},createElement:function(e){return document.createElement(e)},createTextNode:function(e){return document.createTextNode(e)},createEmptyMountNode:function(){return document.createComment("")},createFragment:function(){return document.createDocumentFragment()},isFragment:function(e){return e instanceof DocumentFragment},isElement:function(e){return this.isFragment(e)||e instanceof Node},onMounted:function(e){var n;void 0===(n=e).__$count?n.__$count=1:n.__$count++,n.__$m_observer||(n.__$m_observer=new window.MutationObserver(function(e){e.forEach(function(e){"childList"===e.type&&e.addedNodes.forEach(function(e){var t;1===e.nodeType&&n&&e.__$mounted&&(t=e.__$mounted(e),e.__$mounted=null,"function"==typeof t&&(e.__$removed=t,he(e)),n.__$count--,0===n.__$count&&(n.__$m_observer.disconnect(),n.__$m_observer=null,n=null))})})}),n.__$m_observer.observe(n,{childList:!0}))},onRemoved:function(e,t){he(t)}});we.prototype.get=function(e,t){void 0===t&&(t=!1);var n,r,i=this.cacheMap.get(e);return void 0===i||t?("string"==typeof(t=e())&&(t=w.Renderer.createTextNode(t)),this.curCache=((r=t)?w.Renderer.isFragment(r)?Array.from(r.childNodes):Array.isArray(r)?r:[r]:null)||[],this.cacheMap.set(e,this.curCache),t):(this.curCache=i||[],n=function(e){if(!e)return null;for(var t=w.Renderer.createFragment(),n=0,r=e;n<r.length;n++){var i=r[n];t.appendChild(i)}return t}(i),this.tasks.length&&(this.tasks.forEach(function(e){e(n)}),this.tasks=[]),n)},we.prototype.refreshCache=function(e,t){if(!this.curCache)throw new Error("CurCache is null");var n=e.parentElement;if(n){for(var r=n.childNodes,i=r.length,o=!1,a=[],c=0;c<i;c++){var u=r[c];if(o){if(u===t)break;a.push(u)}u===e&&(o=!0)}for(var l=-1,s=-1,f=this.curCache.length,c=0;c<f;c++)if((u=this.curCache[c])===e)l=c;else if(u===t){s=c;break}(n=this.curCache).splice.apply(n,A([l+1,s-l-1],a,!1))}},we.prototype.addTask=function(e){this.tasks.push(e)};var Ce=we;function we(){this.cacheMap=new WeakMap,this.curCache=[],this.tasks=[]}Ae=!1,n=[],o=null;var Ae,n,o,Te={next:function(e){null!=(e.parent=o)&&o.children.push(e),n.push(e),o=e},back:function(){n.pop(),o=0===n.length?(Ae=!0,null):n[n.length-1]},visit:function(e,t){if(!Ae||o===e)return t();n=[e],o=e;e=t();return n=[],o=null,e},current:function(){return o}},Le=(f.prototype.wrapAnchor=function(e){var t=w.Renderer.createFragment();return t.appendChild(this.start),e&&s(t,e),t.appendChild(this.end),t},f.prototype.add=function(e){this.branchCalls.push(e)},f.prototype.getCache=function(e,t){var n=this;return Te.visit(this,function(){return n.cache.get(e,t)})},f.prototype.initAnchor=function(e){return w.Renderer.isFragment(e)?(e.appendChild(this.end),e.insertBefore(this.start,e.childNodes[0]),e):this.wrapAnchor(e)},f.prototype.replace=function(e,t){var n;if(e!==this.activeIndex)return n=this.branchCalls[e],this.activeIndex=e,e=this.getCache(n,t),this.initilized?(this.refresh(e),e):(this.initilized=!0,this.initAnchor(e))},f.prototype.replaceDom=function(e){this.clear(),this.end.parentNode.insertBefore(e,this.end)},f.prototype.refresh=function(e){var t;this.clear()?(w.Renderer.isElement(e)&&null!=(t=this.end.parentElement)&&t.insertBefore(e,this.end),null!=(t=this.parent)&&t.refreshCache(this),this.triggerRefresh()):null!=(t=this.parent)&&t.addRefreshCall(this.refresh.bind(this,e))},f.prototype.addRefreshCall=function(e){var t;this.start.parentElement?this.refreshList.push(e):null!=(t=this.parent)&&t.addRefreshCall(e)},f.prototype.triggerRefresh=function(){var e;this.refreshList.length?(e=this.refreshList,this.refreshList=[],e.forEach(function(e){e()})):null!=(e=this.parent)&&e.triggerRefresh()},f.prototype.quit=function(){Te.back()},f.prototype.returned=function(e){return!1!==(e="number"==typeof e?this.branchCalls[e]:e).returned},f.prototype.refreshCache=function(e){this.cache.refreshCache(e.start,e.end),null!=(e=this.parent)&&e.refreshCache(this)},f.prototype.clear=function(){var e=this.start,t=this.end;if(!t.parentElement)return!1;for(;e.nextSibling&&e.nextSibling!==t;)e.nextSibling.remove();return!0},f);function f(){this.start=w.Renderer.createEmptyMountNode(),this.end=w.Renderer.createEmptyMountNode(),this.parent=null,this.children=[],this.branchCalls=[],this.activeIndex=-1,this.refreshList=[],this.initilized=!1,this.cache=new Ce,Te.next(this)}h.prototype.switchNode=function(e,t){if(this.activeIndex===e)return!0;this.activeIndex=e;var n=this.branch.returned(e);return this.branch.replace(e,t=void 0===t?!n:t),n},h.prototype.onDataChange=function(e){for(var t,n=e.length,r=0;r<n;r++)if(e[r])return(t=this.switchNode(r))||r===n-1?t:this.switchNode(n-1,!0)},h.prototype.acceptIf=function(e,t,n){void 0===n&&(n=!1);var r=this.index,i=this.index++;this.refs[i]=e,this.branch.add(t),this.returnEle!==b||this.matched&&!n||("function"==typeof e?e():e.v)&&(this.matched=!0,n||(this.activeIndex=r),e=this.branch.replace(i),this.branch.returned(t)&&(this.returnTrueEl=!0),this.returnEle=e)},h.prototype.elif=function(e,t){return this.acceptIf(e,t),this},h.prototype.else=function(e){return this.acceptIf(function(){return!0},e),this},h.prototype.end=function(e){var t=this,n=(this.acceptIf(function(){return!0},e=void 0===e?function(){}:e,!0),y(function(){return t.refs.map(function(e){return"function"==typeof e?e():e.v})},this.onDataChange.bind(this),!1),this.branch.quit(),this.returnEle);return this.returnTrueEl||this.branch.replaceDom(e()),this.returnEle=this.returnTrueEl=this.acceptIf=this.matched=null,n};var Se=h;function h(e,t){this.activeIndex=-1,this.index=0,this.returnEle=b,this.matched=!1,this.refs=[],this.returnTrueEl=!1,this.branch=new Le,this.acceptIf(e,t)}function ke(e,t){return new Se(e,t)}Oe.prototype.run=function(e){for(var t=!1,n=null,r=this.caseList.length,i=0;i<r;i++){var o=this.caseList[i],a=o[0],o=o[1];if(Array.isArray(a)&&a.includes(e)||a===e||null===a){t=!0,a=this.branch.returned(o),n=this.branch.replace(i,!a);a||this.branch.replaceDom(this.endCall());break}}return n=t?n:this.branch.replace(r)},Oe.prototype.end=function(e){for(var t=this,e=(this.endCall=e=void 0===e?function(){}:e,y(this.target,function(e){t.run(e)})),n=0,r=t.caseList;n<r.length;n++){var i=r[n][1];i&&t.branch.add(i)}return t.branch.add(t.endCall),t.branch.quit(),this.run(e.v)};var Ne=Oe;function Oe(e,t){this.branch=new Le,this.target=e,this.caseList=t}function je(e,t){return new Ne(e,t)}function Pe(u,e,p,v){void 0===p&&(p="item"),void 0===v&&(v="");var y=this;if(!(e=void 0===e?!1:e))return y.map(u);var m=w.Renderer.createFragment(),e=L(y),t=y.length;if(e){for(var i,g,b=w.Renderer.createEmptyMountNode(),_=[],E=[],x=(i=Te.current(),{insertBefore:function(t,n,e){var r,e=Re(n,e);i?(r=i.cache,n.parentElement===e?($e(r.curCache,t,n),e.insertBefore(t,n)):r.addTask(function(e){$e(r.curCache,t,n);try{e.insertBefore(t,n)}catch(e){console.warn(e)}})):e.insertBefore(t,n)},removeElement:function(t){var n,e;i?(n=i.cache,t.parentElement?(t.remove(),e=n.curCache.indexOf(t),n.curCache.splice(e,1)):n.addTask(function(){t.remove();var e=n.curCache.indexOf(t);n.curCache.splice(e,1)})):t.remove()},addTask:function(e){null!=i&&i.cache.addTask(e)}}),R=[],$=(y[T].scopeItems=R,y[T]._map=!0,R.key=p,function(e,t){e=S({v:e},{shallow:!0}),(n={})[p]=e;var n,e=n;return v&&(e[v]=S({v:t},{shallow:!0})),e}),C=function(e,t,n,r,i){void 0===n&&(n=R),void 0===r&&(r=_),void 0===i&&(i=E);var o,a,c=$(e,t),e=K(),i=(i.push(e),J(e,function(){return u(c[p],c[v]||t)})),e=i;return i?w.Renderer.isFragment(i)?0===(a=(o=i.childNodes).length)?(e=w.Renderer.createEmptyMountNode(),i.appendChild(e),0===t&&(g=e)):(e=o[a-1],0===t&&(g=o[0])):0===t&&(g=i):(e=i=w.Renderer.createEmptyMountNode(),0===t&&(g=i)),n.push(c),r.push(e),i},n=0;n<t;n++){var r=y[n],o=C(r,n);m.appendChild(o)}m.appendChild(b),ie(y,function(e){var o=e.index,a=e.count,t=e.data;switch(e.type){case w.OprateType.Push:for(var n=w.Renderer.createFragment(),r=y.length,i=0;i<t.length;i++){var c=C(t[i],r+i);n.appendChild(c)}x.insertBefore(n,b,m);break;case w.OprateType.Replace:R[o]?(t[0]!==R[o][p].v&&(R[o][p].v=t[0]),v&&(R[o][v].v=o)):R[o]=$(t[0],o);break;case w.OprateType.Remove:if(0===a)break;var u=function(){for(var e,t=o-1,n=(null==(e=_[t+a])?void 0:e.nextSibling)||b,r=t<0?g||b:_[t];r.nextSibling&&r!==n&&r.nextSibling!==n;){var i=r.nextSibling;x.removeElement(i)}t<0&&(r!==b?(g=r.nextSibling,x.removeElement(r)):g=b),_.splice(o,a),R.splice(o,a),E.splice(o,a).forEach(function(e){e.clean()})};b.parentElement?u():x.addTask(u);break;case w.OprateType.Insert:var l=[],s=[],f=[],h=w.Renderer.createFragment(),d=g,u=(t.forEach(function(e,t){e=C(e,o+t,s,l,f);h.appendChild(e)}),R.splice.apply(R,A([o,0],s,!1)),_.splice.apply(_,A([o,0],l,!1)),E.splice.apply(E,A([o,0],f,!1)),function(){var e=0===o?d||b:_[o-1].nextSibling;Re(e,m).insertBefore(h,e)});b.parentElement?u():x.addTask(u)}})}else for(var o,n=0;n<t;n++)(o=u(c(y[n]),c(n)))&&m.appendChild(o);return m}function m(e,i){var t="object"===d(e)&&!L(e)&&void 0!==e.enable,n=t?e.value:e,o=!0,a="",a=Fe(n,function(e,t,n,r){a=e,o&&i(e,t,n,r)});return t&&(o=y(e.enable,function(e){i((o=e)?a:null,null,"","")}).v),i(o?a:null,void 0,"",""),a}function Fe(e,t){return"function"==typeof e||L(e)&&void 0!==e.v?y(e,t).v:e}W(Pe);var Me={zIndex:1,opacity:1,flex:1,flexGrow:1,flexShrink:1},Ie="_$single_style";function $(e,t,n,r,i){void 0===i&&(i=!1),"number"!=typeof n||Me[t]||(n="".concat(n,"px")),e.style[t]=n=r?"":n,i&&(e[Ie]||(e[Ie]={}),e[Ie][t]=n)}function Be(u,e){if(null!=e){if("function"==typeof e||L(e)){var l="function"==typeof e;m(e,function(e,t,n,r,i){if("string"==typeof e)if(l){u.setAttribute("style",e);var o=u[Ie];if(o)for(var a in o)u.style[a]=o[a]}else $(u,r,e,i);else{for(var a in e){var c=e[a];"function"==typeof c&&(c=c()),$(u,a,c)}for(var a in t)void 0===e[a]&&$(u,a,"")}})}else{if("object"!==d(e))return;for(var t in e)!function(t){m(e[t],function(e){$(u,t,e,null===e)})}(t)}return 1}}var De={INPUT:1,SELECT:1,TEXTAREA:1};var qe=/(.*?)=(.*?)(&|$)/g;function We(l,e){if(null!=e)if("function"==typeof e||L(e))m(e,function(e,t,n,r,i){if("string"==typeof e){if(r&&"v"!==r)return void(i?l.removeAttribute(r):l.setAttribute(r,e));for(var o=e.matchAll(qe),a=(e={},void 0);!(a=o.next()).done;)e[a.value[1]]=a.value[2];if(t){var c=t.matchAll(qe);for(t={};!(a=c.next()).done;)t[a.value[1]]=a.value[2]}else t={}}for(var u in e)l.setAttribute(u,e[u]);for(var u in t)void 0===e[u]&&l.removeAttribute(u)});else if("object"===d(e))for(var t in e)!function(t){m(e[t],function(e){null===e?l.removeAttribute(e):l.setAttribute(t,e)})}(t);else{if("string"!=typeof e)return;for(var n,r=e.matchAll(qe);!(n=r.next()).done;)l.setAttribute(n.value[1],n.value[2])}}var ze="_$single_class";function C(e,t,n,r){void 0===r&&(r=!1),e.classList[(n=void 0===n?!1:n)?"remove":"add"](t),r&&(e[ze]||(e[ze]=new Set),e[ze][n?"delete":"add"](t))}function He(t,e){t.className=Array.from(new Set(e.split(" "))).join(" ");e=t[ze];e&&e.forEach(function(e){t.classList.add(e)})}function Ue(c,e){if(null!=e)if("function"==typeof e||L(e))m(e,function(e,t,n,r,i){if("string"==typeof e)He(c,e);else if("boolean"==typeof e)C(c,r,i||0==e);else{for(var o in e){var a=e[o];"function"==typeof a&&(a=a()),C(c,o,0==a)}for(var o in t)void 0===e[o]&&C(c,o,!0)}});else if("object"===d(e))for(var t in e)!function(t){m(e[t],function(e){C(c,t,!e)})}(t);else"string"==typeof e&&He(c,e)}function Ge(e,r,t){var n=ve.enter(),i={},o=null;if(r)for(var a in r)!function(e){var t,n=r[e];switch(e){case"$mount":o=n,delete r[e];break;case"$created":case"$appended":case"$mounted":case"$removed":i[e]=n,delete r[e];break;default:L(n)?r[e]=u(function(){return n.v},!0):r[e]=((t={v:n})[g]=w.AlinsType.Ref,t)}}(a);e=e(r||{},t),ve.fill(i,n,e),t=function(e,n){if(e){var r,i;if(e instanceof Promise)return r=w.Renderer.createFragment(),i=w.Renderer.createEmptyMountNode(),r.appendChild(i),e.then(function(e){if(w.Renderer.isElement(e)){var t=Re(i,r);try{null!=n&&n(e),s(t,e,i)}catch(e){console.log("node 已被隐藏")}finally{i.remove()}}}),r;null!=n&&n(e)}return e}(e,function(e){var t,n=Ee(e);for(t in i){var r=i[t];"$created"===t?r(n):n["__".concat(t)]=r}});return o&&s(o="string"==typeof o?w.Renderer.querySelector(o):o,t),t}function Xe(f){var e,t;if(f.isText)r=w.Renderer.createTextNode(""),""!==f.text&&(n=f.text,(t=function(e){r.textContent=e})(Fe(n,t),void 0,"",""));else{var n=!!f.tag,r=n?w.Renderer.createElement(f.tag):w.Renderer.createFragment(),h=(f.children&&0<f.children.length&&(null!=(t=f.attributes)&&t.$html?console.warn("$html 属性的元素的子元素将失效"):function e(t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];null!=o&&(Array.isArray(o)?e(t,o):w.Renderer.isElement(o)?s(t,o):(o=Xe(Je(o)?o:{text:o,isText:!0}),t.appendChild(o)))}}(r,f.children)),n?r:r.children[0]),i=n?r:r.firstChild,o=f.attributes;if(o){var a=o.$mount;if(i&&(null!=(e=o.$created)&&e.call(o,i),o.$appended&&(i.__$appended=o.$appended),o.$removed&&(i.__$removed=o.$removed),o.$mounted&&(i.__$mounted=o.$mounted)),h){var c,u=function(t){var e,n,r=f.attributes[t];if(c=h,n=r,(e=t).startsWith("on")&&((null===c[e]||"function"==typeof c[e])&&("function"==typeof n||"function"==typeof(null==n?void 0:n.listener)||"string"==typeof(null==n?void 0:n.__deco)||"function"==typeof(null==n?void 0:n.v)))){var i=h,o=t,a=r;if(o=o.substring(2),"function"==typeof a)i.addEventListener(o,a);else if(L(a))i.addEventListener(o,a.v);else{if(a.__deco){var c=a.__deco.split("-");a={listener:a.v};for(var u=0,l=c;u<l.length;u++){var s=l[u];a[s]=!0}}i.addEventListener(o,function e(t){a.self&&t.target!==i||(a.stop&&t.stopPropagation(),a.prevent&&t.preventDefault(),a.once&&i.removeEventListener(o,e,a.capture),a.listener(t))},a.capture)}return"continue"}switch(t){case"$created":case"$appended":case"$removed":case"$mounted":case"$mount":break;case"$html":m(r,function(e){h.innerHTML=e||""});break;case"$ref":r(h);break;case"$attributes":We(h,r);break;case"$show":m(r,function(e){h.style.display=e?"":"none"});break;case"class":Ue(h,r);break;default:if("style"===t&&Be(h,r)||function(t,e,n){if(("value"===n||"checked"===n)&&(L(e)||e.__deco)){var r,i,o,a=t.tagName;if(De[a])return r=e.__deco||d(e.v),i=(i={boolean:function(e){return"true"===e},number:function(e){return parseFloat(e)},string:function(e){return e}}[r])||function(e){return e},o=e.__deco?e.v:e,t.addEventListener("SELECT"===a?"change":"input",function(){var e=t[n];r!==d(e)&&(e=i(e)),o.v=Number.isNaN(e)?"":e}),y(o,function(e){t[n]=e},!1),t[n]=o.v,1}}(h,r,t)||function(t,e,n){var r;if(e.startsWith("class$"))return r=e.substring("class$".length),m(n,function(e){C(t,r,!e,!0)}),1}(h,t,r)||function(t,e,n){var r;if(e.startsWith("style$"))return r=e.substring("style$".length),m(n,function(e){$(t,r,e,null===e,!0)}),1}(h,t,r))break;m(r,function(e){null===(e="object"===d(e)?e.enable?e.value:null:e)?h.removeAttribute(t):h.setAttribute(t,e)})}};for(c in f.attributes)u(c)}if(a){if(!(a="string"==typeof a?w.Renderer.querySelector(a):a))throw new Error("$mount is not a Element");s(a,r)}}}return r}function Je(e){return"object"===d(e)&&!0===e.jsx}var Ke=function(e,t){void 0===t&&(t=null);for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return"function"==typeof e?Ge(e,t,n):Xe({tag:e,attributes:t,children:n,jsx:!0})},Qe=xe;var Ve=re,Ye=u,Ze=y;var et=oe,tt=ae;function nt(e,t,n,r,i){return Pe.call(e,t,n,r,i)}var rt=c,it=ke,ot=je;var k,N,at=ye,ct=me,ut=ge,lt=be,O=((N=k=k||{})[N.Element=0]="Element",N[N.Text=1]="Text",N[N.Empty=2]="Empty",N[N.Frag=3]="Frag",{render:function(e){var t=new Array(e.deep).fill("  ").join(""),e="".concat(e.innerText);console.log("".concat(t,"text: ").concat(e.trim()))}});function st(e,t){var n=null==(n=e._onMounted)?void 0:n.call(e,e);n&&(e._onRemoved=n),e.parentElement=t}Object.defineProperty(P.prototype,"textContent",{get:function(){return this.innerText},set:function(e){this.innerText=e},enumerable:!1,configurable:!0}),P.prototype.addEventListener=function(e,t){var n;this._listeners[e]||(this._listeners[e]=new Set),this._listeners[e].add(t),null!=(n=O.addEventListener)&&n.call(O,this,e,t)},P.prototype.removeEventListener=function(e,t){var n;this._listeners[e]&&this._listeners[e].delete(t),null!=(n=O.removeEventListener)&&n.call(O,this,e,t)},P.prototype.setAttribute=function(e,t){this._attributes[e]=t},P.prototype.removeAttribute=function(e){delete this._attributes[e]},P.prototype.getAttribute=function(){return""},Object.defineProperty(P.prototype,"className",{get:function(){return Array.from(this._classList).join(" ")},set:function(e){this._classList=new Set(e.split(" "))},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"parentNode",{get:function(){return this.parentElement},enumerable:!1,configurable:!0}),P.prototype.remove=function(){var e=null==(e=this.parentElement)?void 0:e.children;e&&(e.splice(e.indexOf(this),1),null!=(e=this._onRemoved)&&e.call(this,this))},Object.defineProperty(P.prototype,"innerHTML",{get:function(){return this.innerText},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"outerHTML",{get:function(){return this.innerText},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"childNodes",{get:function(){return this.children},enumerable:!1,configurable:!0}),P.prototype.appendChild=function(e){if(e.type===k.Frag)for(var t=0,n=e.childNodes;t<n.length;t++){var r=n[t];this.appendChild(r)}else this.children.push(e),st(e,this)},Object.defineProperty(P.prototype,"nextSibling",{get:function(){var e;return(null==(e=this.parentElement)?void 0:e.children[this.index+1])||null},enumerable:!1,configurable:!0}),P.prototype.insertBefore=function(e,t){if(t.parentElement!==this)throw new Error("insertBefore error");if(t.type===k.Frag)for(var n=0,r=t.childNodes;n<r.length;n++){var i=r[n];this.insertBefore(i,t)}else this.children.splice(t.index,0,e),st(e,this);return e},Object.defineProperty(P.prototype,"index",{get:function(){var e=this.parentElement;return e?e.children.indexOf(this):-1},enumerable:!1,configurable:!0}),P.prototype.render=function(){var e,t=this,n=null==(n=O.render)?void 0:n.call(O,this);return this.children.forEach(function(e){e.deep=t.deep+1,e.render()}),"function"==typeof n&&(n=n(this)),null!=(e=O.onRenderEnd)&&e.call(O,this),n},P.prototype._findName=function(e){if(this.tagName===e)return this;for(var t=0,n=this.children;t<n.length;t++){var r=n[t]._findName(e);if(r)return r}return null},P.Root=null;var j=P;function P(e,t,n){void 0===t&&(t=""),void 0===n&&(n="");var r=this;this.type=k.Element,this.style={},this.tagName="",this.innerText="",this._attributes={},this._listeners={},this.deep=0,this._classList=new Set,this.classList={add:function(e){r._classList.add(e)},remove:function(e){r._classList.delete(e)}},this.parentElement=null,this.children=[],this.type=e,this.tagName=n,this.innerText=t}return w.CustomElement=j,w._$ad=ct,w._$c=Ye,w._$cc=function(e,t){return u({get:e,set:t})},w._$cd=at,w._$ce=Ke,w._$e=et,w._$es=tt,w._$f=function(e,t){return Ke.apply(void 0,A(["",e],t,!1))},w._$if=it,w._$md=ut,w._$mf=rt,w._$mm=nt,w._$mnr=function(e){return e.returned=!1,e},w._$mt=Qe,w._$mu=function(e){return e._update=!0,e},w._$r=Ve,w._$rd=lt,w._$sw=ot,w._$w=Ze,w._if=ke,w._switch=je,w.addLns=R,w.appendChild=s,w.appended=me,w.arrayFuncProxy=z,w.assignCompData=ae,w.assignData=oe,w.child=F,w.computed=u,w.createCleaner=K,w.createProxy=S,w.createStore=function(e){var t=e.id,n=e.state,r=e.actions,i=e.getters,t=t||"store_".concat(ue++);return function(){var a=le[t];if(!a){if(a=S(n()),r)for(var e in r)a[e]=r[e].bind(a);if(i)for(e in i)!function(e){Object.defineProperty(a,e,{get:function(){return i[e].call(a,a)},set:function(){throw new Error("Cannot set getters")}})}(e);(le[t]=a).$watch=function(e,t){var o;return"string"==typeof e&&(o=e,e=function(){for(var e=a,t=o,n="",r=0;r<t.length;r++){var i=t[r];"."===i||"["===i||"]"===i?n&&(e=e[n],n=""):n+=i}return e=n?e[n]:e}),y(e,t)}}return a}},w.createUtils=ee,w.created=ye,w.defineRenderer=_e,w.empty=b,w.getCurCleaner=X,w.getFirstElement=Ee,w.getStore=function(e){return le[e]||null},w.isDepReactive=V,w.isProxy=L,w.isReactive=e,w.isRef=function(e){return(null==e?void 0:e[g])===w.AlinsType.Ref},w.map=Pe,w.mockRef=c,w.mount=xe,w.mounted=ge,w.observe=Y,w.pureproxy=M,w.reactive=ne,w.reactiveBindingEnable=m,w.ref=re,w.registArrayMap=W,w.removed=be,w.replaceArrayItem=H,w.replaceLNS=te,w.replaceWholeArray=U,w.setCurCleaner=G,w.trig=a,w.type=g,w.useCurCleaner=J,w.useRenderer=function(e){return void 0===e&&(e={}),Object.assign(O,e),_e({querySelector:function(e){var t;return null==(t=j.Root)?void 0:t._findName(e)},createElement:function(e){return new j(k.Element,"",e=void 0===e?"":e)},createTextNode:function(e){return new j(k.Text,e)},createEmptyMountNode:function(){return new j(k.Empty)},createFragment:function(){return new j(k.Frag)},isFragment:function(e){return e.type===k.Frag},isElement:function(e){return e.type===k.Element||e.type===k.Text},onMounted:function(e,t,n){t._onMounted=n},onRemoved:function(e,t,n){t._onRemoved=n}}),e=new j(k.Element,"","root"),j.Root=e},w.util=T,w.version="0.0.35",w.watch=y,w.watchArray=ie,w.watchRef=function(e,t){return y(e,t,!1)},w.wrapReactive=Z,Object.defineProperty(w,"__esModule",{value:!0}),w}({});
